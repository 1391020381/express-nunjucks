/*! ishare_pc_website
*author:Jersey */

define("dist/detail/init",["../application/wxActivity","../application/method","../application/api","../application/urlConfig","../cmd-lib/lazyload","../cmd-lib/myDialog","../cmd-lib/loading","./userComments","./template/simplePagination.html","./template/userComments.html","./guessYouLike","../common/paradigm4-report","./template/guessYouLike.html","./relevantInformation","./template/relevantInformation.html","./download","../cmd-lib/toast","../cmd-lib/util","./common","./template/pay_btn_tmp.html","../common/loginType","./handlePaidTest","../application/checkLogin","../application/login","../application/loginOperationLogic","../cmd-lib/jqueryMd5","../common/bindphone","../common/baidu-statistics","../common/message-center/index","../common/message-center/dropdownItem.html","./index","../application/suspension","../application/app","../application/element","../application/template","../application/extend","../common/bilogReport","../application/helper","../application/single-login","../common/file-collect-layer/index","../common/file-collect-layer/fileCollect.html","../common/file-collect-layer/fileCollect","../common/userActionRecordReport","../common/evaluate-layer/index","../common/evaluate-layer/evaluate.html","../common/evaluate-layer/evaluate","../common/evaluate-layer/evaluate-label.html","./search","./template/history_tmp.html","./template/hot_search_tmp.html","./paging","./template/img_box.html","./changeShowOverText","./changeDetailFooter","./expand","./buyUnlogin","../pay/qr","../cmd-lib/qr/qrcode.min","./banner","swiper","./template/HotSpotSearch.html"],function(a,b,c){var d=a("../application/wxActivity").isHasPcMLogin;a("../cmd-lib/lazyload"),a("../cmd-lib/myDialog"),a("../cmd-lib/loading"),a("./userComments"),a("./guessYouLike"),a("./relevantInformation"),a("./download"),a("./index"),a("./search"),a("./paging"),a("./expand"),a("./buyUnlogin"),a("./banner"),a("../common/baidu-statistics").initBaiduStatistics("17cdd3f409f282dc0eeb3785fcf78a66"),a("../common/baidu-statistics").initBaiduStatistics("adb0f091db00ed439bf000f2c5cbaee7");var e=window.pageConfig.params&&window.pageConfig.params.productType;"4"==e&&a("../common/baidu-statistics").initBaiduStatistics("504d2c29e8aefe02ad5d66207e4de083"),"1"==e&&a("../common/baidu-statistics").initBaiduStatistics("c0fb058099c13a527871d024b1d809f8"),d()}),define("dist/application/wxActivity",["dist/application/method","dist/application/api","dist/application/urlConfig"],function(a,b,c){function d(){$.ajax({url:f.user.dictionaryData.replace("$code","sceneSwitch"),type:"GET",async:!1,contentType:"application/json; charset=utf-8",dataType:"json",cache:!1,success:function(a){console.log(a),0==a.code&&a.data&&a.data.length&&$.each(a.data,function(a,b){"PC-M-Login"==b.pcode&&("detail"!=g||e.getCookie("isShowDetailALoginRedPacket")?"index"!=g||e.getCookie("isShowIndexLoginRedPacket")||($(".loginRedPacket-dialog").removeClass("hide"),trackEvent("NE006","modelView","view",{moduleID:"activityFloat",moduleName:"活动浮层"})):($(".loginRedPacket-dialog").removeClass("hide"),trackEvent("NE006","modelView","view",{moduleID:"activityFloat",moduleName:"活动浮层"})))})}})}var e=a("dist/application/method"),f=a("dist/application/api"),g=window.pageConfig.page&&window.pageConfig.page.pageName;return $(document).on("click",".loginRedPacket-dialog .close-btn",function(a){trackEvent("NE002","normalClick","click",{domID:"close",domName:"关闭"}),"detail"==g?e.setCookieWithExpPath("isShowDetailALoginRedPacket",1):e.setCookieWithExpPath("isShowIndexLoginRedPacket",1),$(".loginRedPacket-dialog").hide()}),$(document).on("click",".loginRedPacket-dialog .loginRedPacket-content",function(a){trackEvent("NE002","normalClick","click",{domID:"confirm",domName:"确定"}),"detail"==g?$("#detail-unLogin").trigger("click"):$(".index-header .notLogin").trigger("click")}),{isHasPcMLogin:d}}),define("dist/application/method",[],function(require,exports,module){return{keyMap:{ishare_detail_access:"ISHARE_DETAIL_ACCESS",ishare_office_detail_access:"ISHARE_OFFICE_DETAIL_ACCESS"},async:function(a,b,c,d,e){$.ajax(a,{type:d||"post",data:e,async:!1,dataType:"json",headers:{"cache-control":"no-cache",Pragma:"no-cache",Authrization:this.getCookie("cuk")}}).done(function(a){b&&b(a)}).fail(function(a){console.log("error==="+c)})},get:function(a,b,c){$.ajaxSetup({cache:!1}),this.async(a,b,c,"get")},post:function(a,b,c,d,e){this.async(a,b,c,d,e)},postd:function(a,b,c){this.async(a,b,!1,!1,c)},customAjax:function(a){var b=this,c=this.getCookie("cuk"),d=this.getLoginSessionId();$.ajax({type:a.type||"POST",timeout:a.timeout||3e4,async:a.async,cache:a.cache,headers:{Authrization:c,"cache-control":"no-cache",Pragma:"no-cache",isharejsid:d},statusCode:{401:function(){b.delCookie("cuk","/"),b.delCookie("cuk","/",".sina.com.cn"),b.delCookie("cuk","/",".iask.com.cn"),b.delCookie("cuk","/",".iask.com"),$.toast({text:"请重新登录",delay:2e3})}},contentType:a.contentType||"application/json;charset=utf-8",dataType:a.dataType||"json",url:a.url,data:a.data,success:a.success,error:a.error})},customGet:function(a,b,c,d,e){this.customAjax({type:"GET",url:a,async:e===!1?e:!0,cache:!1,data:b,success:c,error:d})},customPost:function(a,b,c,d,e){this.customAjax({type:"POST",url:a,async:e===!1?e:!0,data:b?JSON.stringify(b):b,success:c,error:d})},random:function(a,b){return Math.floor(Math.random()*(b-a))+a},setCookieWithExpPath:function(a,b,c,d){var e=new Date;e.setTime(e.getTime()+c),document.cookie=a+"="+escape(b)+";path="+d+";expires="+e.toGMTString()},setCookieWithExp:function(a,b,c,d){var e=new Date;e.setTime(e.getTime()+c),d?document.cookie=a+"="+escape(b)+";path="+d+";expires="+e.toGMTString():document.cookie=a+"="+escape(b)+";expires="+e.toGMTString()},getCookie:function(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!==b?unescape(b[2]):null},delCookie:function(a,b,c){var d=new Date;d.setTime(d.getTime()-1);var e=this.getCookie(a);null!=e&&(b&&c?document.cookie=a+"= '' ;domain="+c+";expires="+d.toGMTString()+";path="+b:b?document.cookie=a+"= '' ;expires="+d.toGMTString()+";path="+b:document.cookie=a+"="+e+";expires="+d.toGMTString())},getQueryString:function(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),c=window.location.search.substr(1).match(b);return null!=c?unescape(c[2]):null},url2Obj:function(a){for(var b={},c=a.split("?"),d=c[1].split("&"),e=0;e<d.length;e++){var f=d[e].split("=");b[f[0]]=f[1]}return b},getParam:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.href);return null==d?"":decodeURIComponent(d[1].replace(/\+/g," "))},getParamsByName:function(a,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&#]"+b+"=([^&#]*)",d=new RegExp(c),e=d.exec(a);return null==e?"":decodeURIComponent(e[1].replace(/\+/g," "))},getLocalData:function(a){try{if(localStorage&&localStorage.getItem){var b=localStorage.getItem(a);return null===b?null:JSON.parse(b)}return console.log("浏览器不支持html localStorage getItem"),null}catch(c){return null}},setLocalData:function(a,b){localStorage&&localStorage.setItem?(localStorage.removeItem(a),localStorage.setItem(a,JSON.stringify(b))):console.log("浏览器不支持html localStorage setItem")},browserType:function(){var a=navigator.userAgent,b=a.indexOf("Opera")>-1;return b?"Opera":a.indexOf("compatible")>-1&&a.indexOf("MSIE")>-1&&!b?"IE":a.indexOf("Edge")>-1?"Edge":a.indexOf("Firefox")>-1?"Firefox":a.indexOf("Safari")>-1&&-1===a.indexOf("Chrome")?"Safari":a.indexOf("Chrome")>-1&&a.indexOf("Safari")>-1?"Chrome":void 0},validateIE9:function(){return Boolean($.browser.msie&&("9.0"===$.browser.version||"8.0"===$.browser.version||"7.0"===$.browser.version||"6.0"===$.browser.version))},compareTime:function(a,b){return a&&b?Math.abs((b-a)/1e3/60/60/24):""},changeURLPar:function(url,arg,arg_val){var pattern=arg+"=([^&]*)",replaceText=arg+"="+arg_val;if(url.match(pattern)){var tmp="/("+arg+"=)([^&]*)/gi";return tmp=url.replace(eval(tmp),replaceText)}return url.match("[?]")?url+"&"+replaceText:url+"?"+replaceText},getUrlAllParams:function(a){if("undefined"==typeof a)var b=decodeURI(location.search);else var b="?"+a.split("?")[1];var c=new Object;if(-1!=b.indexOf("?"))for(var d=b.substr(1),e=d.split("&"),f=0;f<e.length;f++)c[e[f].split("=")[0]]=decodeURI(e[f].split("=")[1]);return c},compatibleIESkip:function(a,b){setTimeout(function(){var c=document.createElement("a");c.href=a,c.style.display="none",b&&(c.target="_blank"),document.body.appendChild(c),c.click()},350)},testEmail:function(a){var b=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;return b.test(a)?!0:!1},testPhone:function(a){return/^1(3|4|5|6|7|8|9)\d{9}$/.test(a)?!0:!1},handleRecommendData:function(a,b){var c=[];return $(a).each(function(a,d){var e={};if(1==d.type&&(d.linkUrl="/f/"+d.tprId+".html",e=d),2==d.type&&(e=d),3==d.type&&d.tprId&&d.expand&&d.expand.templateCode&&Array.isArray(b)){const f=d.expand.templateCode;var g=b.filter(function(a){return a.pcode===f});console.log("findArr",findArr[0]),g[0]&&(4===g[0].order?(d.linkUrl=g[0].pvalue+"/"+d.tprId+".html",e=d):(d.linkUrl=g[0].desc+g[0].pvalue+"/"+d.tprId+".html",e=d))}c.push(e)}),console.log(c),c},formatDate:function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,String(this.getFullYear()).substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr(String(b[c]).length)));return a},formatDateV2:function(a,b){var c=new Date(b),d={"M+":c.getMonth()+1,"d+":c.getDate(),"h+":c.getHours(),"m+":c.getMinutes(),"s+":c.getSeconds(),"q+":Math.floor((c.getMonth()+3)/3),S:c.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,String(c.getFullYear()).substr(4-RegExp.$1.length)));for(var e in d)new RegExp("("+e+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?d[e]:("00"+d[e]).substr(String(d[e]).length)));return a},getReferrer:function(){var a=document.referrer,b="";return/https?\:\/\/[^\s]*so.com.*$/g.test(a)?b="360":/https?\:\/\/[^\s]*baidu.com.*$/g.test(a)?b="baidu":/https?\:\/\/[^\s]*sogou.com.*$/g.test(a)?b="sogou":/https?\:\/\/[^\s]*sm.cn.*$/g.test(a)&&(b="sm"),b},judgeSource:function(a){a||(a={}),a.searchEngine="";var b="";if(b=utils.getQueryVariable("from"),b||(b=sessionStorage.getItem("webWxFrom")||utils.getCookie("webWxFrom")),b)a.source=b,sessionStorage.setItem("webWxFrom",b),sessionStorage.removeItem("webReferrer");else{var c=sessionStorage.getItem("webReferrer")||utils.getCookie("webReferrer");if(c||(c=document.referrer),c){sessionStorage.setItem("webReferrer",c),sessionStorage.removeItem("webWxFrom"),c=c.toLowerCase();for(var d=new Array("google.","baidu.","360.","sogou.","shenma.","bing."),e=new Array("google","baidu","360","sogou","shenma","bing"),f=0,g=d.length;g>f;f++)c.indexOf(d[f])>=0&&(a.source="searchEngine",a.searchEngine=e[f])}c&&a.source||(utils.isWeChatBrow()?a.source="wechat":a.source="outLink")}return a},randomString:function(a){a=a||4;for(var b="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",c=b.length,d="",e=0;a>e;e++)d+=b.charAt(Math.floor(Math.random()*c));return d},saveLoginToken:function(a,b){b=b||7776e6,this.setCookieWithExpPath("cuk",a,b,"/")},delLoginToken:function(){this.delCookie("ui","/"),this.delCookie("userId","/"),this.delCookie("cuk","/"),this.delCookie("cuk","/",".sina.com.cn"),this.delCookie("cuk","/",".iask.com.cn"),this.delCookie("cuk","/",".iask.com")},getLoginToken:function(){return this.getCookie("cuk")||""},saveLoginSessionId:function(a){this.setCookieWithExpPath("ISHJSSID",a,7776e6,"/")},delLoginSessionId:function(){this.delCookie("ISHJSSID","/")},getLoginSessionId:function(){return this.getCookie("ISHJSSID")||""},isIe8:function(){return Array.isArray?!0:!1}}}),define("dist/application/api",["dist/application/urlConfig"],function(a,b,c){var d=a("dist/application/urlConfig"),e=d.ajaxUrl+"/gateway/pc",f=d.ajaxUrl+"/gateway";c.exports={user:{userWxAuthState:f+"/cas/user/wxAuthState",dictionaryData:f+"/market/dictionaryData/$code",checkSso:f+"/cas/login/checkSso",loginByPsodOrVerCode:f+"/cas/login/authorize",getLoginQrcode:f+"/cas/login/qr_code",loginByWeChat:f+"/cas/login/gzh_scan",getUserInfo:"/node/api/getUserInfo",thirdLoginRedirect:f+"/cas/login/redirect",loginOut:f+"/cas/login/logout",newCollect:f+"/content/collect/getUserFileList",addFeedback:f+"/feedback/addFeedback",getFeedbackType:f+"/feedback/getFeedbackType",sendSms:f+"/cas/sms/sendSms",queryBindInfo:f+"/cas/user/queryBindInfo",thirdCodelogin:f+"/cas/login/thirdCode",userBindMobile:f+"/cas/user/bindMobile",checkIdentity:f+"/cas/sms/checkIdentity",userBindThird:f+"/cas/user/bindThird",untyingThird:f+"/cas/user/untyingThird",setUpPassword:f+"/cas/user/setUpPassword",getUserCentreInfo:f+"/user/getUserCentreInfo",editUser:f+"/user/editUser",getFileBrowsePage:f+"/content/fileBrowse/getFileBrowsePage",getDownloadRecordList:f+"/content/getDownloadRecordList",getUserFileList:f+"/content/collect/getUserFileList",getMyUploadPage:f+"/content/getMyUploadPage",getOtherUser:f+"/user/getOthersCentreInfo",getSearchList:f+"/search/content/byCondition",getVisitorId:f+"/user/getVisitorId",getCoinIaskBalance:f+"/account/user/getCoinIaskBalance",getCoinIaskList:f+"/account/user/getCoinIaskList",taskUserActionRecordReport:f+"/task/userActionRecord/report",updateAgreementTime:f+"/user/certification/updateAgreementTime"},normalFileDetail:{filePreDownLoad:f+"/content/getPreFileDownUrl",getFileDownLoadUrl:f+"/content/getFileDownUrl",getPrePageInfo:f+"/content/getPreRead",sendmail:f+"/content/sendmail/findFile",getFileDetailNoTdk:f+"/content/getFileDetailNoTdk"},officeFileDetail:{},search:{specialTopic:f+"/search/specialTopic/lisPage"},sms:{sendCorpusDownloadMail:f+"/content/fileSendEmail/sendCorpusDownloadMail",fileSendEmailVisitor:f+"/content/fileSendEmail/visitor"},pay:{bindUser:f+"/order/bind/loginUser",scanOrderInfo:f+"/order/scan/orderInfo",getBuyAutoRenewList:f+"/order/buy/autoRenewList",cancelAutoRenew:f+"/order/cancel/autoRenew/"},coupon:{rightsSaleVouchers:f+"/rights/sale/vouchers",rightsSaleQueryPersonal:f+"/rights/sale/queryPersonal",querySeniority:f+"/rights/sale/querySeniority",queryUsing:f+"/rights/sale/queryUsing",getMemberPointRecord:f+"/rights/vip/getMemberPointRecord",getBuyRecord:f+"/rights/vip/getBuyRecord",getTask:f+"/rights/task/get",receiveTask:f+"/rights/task/receive",taskHasEnable:f+"/rights/task/hasEnable"},order:{reportOrderError:f+"/order/message/save",bindOrderByOrderNo:f+"/order/bind/byOrderNo",unloginOrderDown:e+"/order/unloginOrderDown",createOrderInfo:f+"/order/create/orderInfo",rightsVipGetUserMember:f+"/rights/vip/getUserMember",getOrderStatus:f+"/order/get/orderStatus",queryOrderlistByCondition:f+"/order/query/listByCondition",getOrderInfo:f+"/order/get/orderInfo",downloadOrder:f+"/order/create/downloadOrder"},getHotSearch:f+"/cms/search/content/hotWords",special:{fileSaveOrupdate:f+"/comment/zan/fileSaveOrupdate",getCollectState:f+"/comment/zc/getUserFileZcState",setCollect:f+"/content/collect/file"},upload:{getWebAllFileCategory:f+"/content/fileCategory/getWebAll",createFolder:f+"/content/saveUserFolder",getFolder:f+"/content/getUserFolders",saveUploadFile:f+"/content/webUploadFile",picUploadCatalog:"/ishare-upload/picUploadCatalog",fileUpload:"/ishare-upload/fileUpload",batchDeleteUserFile:f+"/content/batchDeleteUserFile"},recommend:{recommendConfigInfo:f+"/recommend/config/info",recommendConfigRuleInfo:f+"/recommend/config/ruleInfo"},reportBrowse:{fileBrowseReportBrowse:f+"/content/fileBrowse/reportBrowse"},mywallet:{getAccountBalance:f+"/account/balance/getGrossIncome",withdrawal:f+"/account/with/apply",getWithdrawalRecord:f+"/account/withd/getPersonList",editFinanceAccount:f+"/account/finance/edit",getFinanceAccountInfo:f+"/account/finance/getInfo",getPersonalAccountTax:f+"/account/tax/getPersonal",getMyWalletList:f+"/settlement/settle/getMyWalletList",exportMyWalletDetail:f+"/settlement/settle/exportMyWalletDetail"},authentication:{getInstitutions:f+"/user/certification/getInstitutions",institutions:f+"/user/certification/institutions",getPersonalCertification:f+"/user/certification/getPersonal",personalCertification:f+"/user/certification/personal"},seo:{listContentInfos:f+"/seo/exposeContent/contentInfo/listContentInfos"},wechat:{getWechatSignature:f+"/message/wechat/info/getWechatSignature"},comment:{getLableList:f+"/comment/lable/dataList",getStarLevelList:f+"/comment/lable/getStarLevelList",addComment:f+"/comment/eval/add",getHotLableDataList:f+"/comment/lable/hotDataList",getFileComment:f+"/comment/eval/dataList",getPersoDataInfo:f+"/comment/eval/persoDataInfo",getQualifications:f+"/comment/eval/getQualifications"},iaskCoin:{getCoinIaskBalance:f+"/account/user/getCoinIaskBalance"},exchange:{exchangeGoodsList:f+"/exchange/integralGoods/exchangeGoodsList",exchangeGoodsDetail:f+"/exchange/integralGoods/exchangeGoodsDetail/$id"},task:{dailyTaskList:f+"/task/taskList/daily",noviceTaskList:f+"/task/taskList/novice",taskNotifyList:f+"/task/taskList/done"}}}),define("dist/application/urlConfig",[],function(a,b,c){var d=window.env,e=window.payUrl,f=window.upload,g=window.bilogUrl,h=window.officeUrl,i=window.ejunshi,j=window.fileConvertSite,k={debug:{},local:{},dev:{},test:{},pre:{},prod:{}};return k[d]={payUrl:e,upload:f,bilogUrl:g,officeUrl:h,ejunshi:i,fileConvertSite:j,ajaxUrl:"",fileConvertSitePath:{pdftoword:"/converter/pdftoword/",pdfencrypt:"/converter/pdfencrypt/",pdfmerge:"/converter/pdfmerge/",pdfsplit:"/converter/pdfsplit/",wordtopdf:"/converter/wordtopdf/"}},$.extend({},k[d],{site:4,terminal:"0"})}),define("dist/cmd-lib/lazyload",[],function(a,b,c){!function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"src",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.bind(j.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(c.attr("src")===d||c.attr("src")===!1)&&c.is("img")&&c.attr("src",j.placeholder),c.one("appear",function(){if(!this.loaded){if(j.appear){var d=i.length;j.appear.call(b,d,j)}a("<img />").bind("load",function(){var d=c.attr("data-"+j.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[j.effect](j.effect_speed),b.loaded=!0;var e=a.grep(i,function(a){return!a.loaded});if(i=a(e),j.load){var f=i.length;j.load.call(b,f,j)}}).attr("src",c.attr("data-"+j.data_attribute))}}),0!==j.event.indexOf("scroll")&&c.bind(j.event,function(){b.loaded||c.trigger("appear")})}),e.bind("resize",function(){g()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document)}),define("dist/cmd-lib/myDialog",[],function(a,b,c){!function(a){a.extend(a.fn,{dialog:function(b){return this.each(function(){var c=a.data(this,"diglog");c||(c=new a.dialog(b,this),a.data(this,"dialog",c))})}});var b={zIndex:1e3,getZindex:function(){return this.zIndex+=100},dialog:{}};a.dialog=function(a,b){arguments.length&&this._init(a,b)},a.dialog.prototype={options:{title:"title",dragable:!1,cache:!0,html:"",width:"auto",height:"auto",cannelBtn:!0,confirmlBtn:!0,cannelText:"关闭",confirmText:"确定",showFooter:!0,onClose:!1,onOpen:!1,callback:!1,showLoading:!1,loadingTxt:"处理中...",onConfirm:!1,onCannel:!1,getContent:!1,zIndex:b.zIndex,closeOnClickModal:!0,getZindex:function(){return b.zIndex+=100},mask_tpl:'<div class="dialog-mask" data-page="mask" style="z-index:'+b.zIndex+';"></div>'},_init:function(b,c){this.options=a.extend(!0,this.options,b),this.element=a(c),this._build(this.options.html),this._bindEvents()},_build:function(b){var c,d="",e="",f="",g='<div class="body-content"></div>';if(b)c=b;else{if(this.options.confirmlBtn&&(e='<button class="confirm">'+this.options.confirmText+"</button>"),this.options.cannelBtn&&(f='<button class="cannel">'+this.options.cannelText+"</button>"),this.options.showFooter&&(d='<div class="footer">                                    <div class="buttons">                                        '+e+"                                        "+f+"                                    </div>                                </div>"),this.options.showFooter){var h=this.options.height-80+"px";g='<div class="body-content" style="height:'+h+';"></div>'}else g='<div class="body-content" style="height:'+this.options.height+';"></div>';c='<div class="m-dialog" style="z-index:'+this.options.getZindex+';">								<div class="m-d-header">									<h2 style="width:'+this.options.width+';">'+this.options.title+'</h2>									<a href="javascript:;" class="btn-close">X</a>								</div>								<div class="m-d-body" style="width:'+this.options.width+";height:"+this.options.height+';">									'+g+"                                </div>"+d+"</div>"}a(document).find('[data-page="mask"]').length||a("body").append(this.options.mask_tpl),this.element.html(c)},_center:function(){var b=this.element.find(".dialog");b.css({left:(a(document).width()-b.width())/2,top:(document.documentElement.clientHeight-b.height())/2+a(document).scrollTop()})},_bindEvents:function(){var b=this;this.element.delegate(".close,.cancel","click",function(a){a&&a.preventDefault(),b.close(b.options.onClose)}),a(document).delegate('[data-page="mask"]',"click",function(a){b.options.closeOnClickModal&&(a&&a.preventDefault(),b.close(b.options.onClose))}),this.element.delegate(".cannel","click",function(a){a&&a.preventDefault(),b._cannel(b.options.onCannel)}),this.element.delegate(".confirm","click",function(c){c&&c.preventDefault(),a(this).hasClass("disable")||(b.options.showLoading&&(a(this).addClass("disable"),a(this).html(b.options.loadingTxt)),b._confirm(b.options.onConfirm))})},close:function(a){this._hide(a),this.clearCache()},open:function(b){this._callback(b),this.element.show(),a('[data-page="mask"]').show(),this.clearCache()},_hide:function(b){this.element.hide(),a('[data-page="mask"]').hide(),b&&"function"==typeof b&&this._callback(b)},clearCache:function(){this.options.cache||this.element.data("dialog","")},_callback:function(a){a&&"function"==typeof a&&a.call(this)},_cannel:function(a){this._hide(a),this.clearCache()},_confirm:function(a){return this.options.callback?a():(this._hide(a),void this.clearCache())},getElement:function(){return this.element},_getOptions:function(){return this.options},_setTxt:function(a){return this.element.find(".confirm").html(a)},destroy:function(){var a=this;a.element.remove()}},a.extend(a.fn,{open:function(b){a(this).data("dialog")&&a(this).data("dialog").open(b)},close:function(b){a(this).data("dialog")&&a(this).data("dialog").close(b)},clear:function(){a(this).data("dialog")&&a(this).data("dialog").clearCache()},getOptions:function(){return a(this).data("dialog")&&a(this).data("dialog")._getOptions()},getEl:function(){return a(this).data("dialog")&&a(this).data("dialog").getElement()},setTxt:function(b){a(this).data("dialog")&&a(this).data("dialog")._setTxt(b)},destroy:function(){a(this).data("dialog")&&a(this).data("dialog").destroy(t)}})}(jQuery)}),define("dist/cmd-lib/loading",[],function(a,b,c){!function(a,b,c){a.fn.loading=function(b){var c=a(this),d=this;return this.each(function(){var e="",f={direction:"column",animateIn:"fadeInNoTransform",title:"提交中...",name:"loadingName",type:"origin",discription:"",titleColor:"rgba(255,255,255,0.7)",discColor:"rgba(255,255,255,0.7)",loadingWidth:100,loadingBg:"rgba(0, 0, 0, 0.6)",borderRadius:6,loadingMaskBg:"rgba(0,0,0,0.6)",zIndex:1000001,originDivWidth:10,originDivHeight:10,originWidth:4,originHeight:4,originBg:"#fefefe",smallLoading:!1,imgSrc:"",imgDivWidth:80,imgDivHeight:80,flexCenter:!1,flexDirection:"row",mustRelative:!1,delay:2e3,isClose:!0},g=a.extend(f,b||{});"body"==c.selector?(a("body,html").css({overflow:"hidden"}),e="fixed"):g.mustRelative?(c.css({position:"relative"}),e="absolute"):e="absolute",f._showOriginLoading=function(){var b=g.smallLoading?0:"-10px";"row"==g.direction&&(b="-6px"),d.cpt_loading_mask=a('<div class="cpt-loading-mask animated '+g.animateIn+" "+g.direction+'" data-name="'+g.name+'"></div>').css({background:g.loadingMaskBg,"z-index":g.zIndex,position:e}).appendTo(c),d.div_loading=a('<div class="div-loading"></div>').css({background:g.loadingBg,width:g.loadingWidth,height:g.loadingHeight,"-webkit-border-radius":g.borderRadius,"-moz-border-radius":g.borderRadius,"border-radius":g.borderRadius}).appendTo(d.cpt_loading_mask),g.flexCenter&&d.div_loading.css({display:"-webkit-flex",display:"flex","-webkit-flex-direction":g.flexDirection,"flex-direction":g.flexDirection,"-webkit-align-items":"center","align-items":"center","-webkit-justify-content":"center","justify-content":"center"}),d.loading_title=a('<p class="loading-title txt-textOneRow"></p>').css({color:g.titleColor}).html(g.title).appendTo(d.div_loading),d.loading=a('<div class="loading '+g.type+'"></div>').css({width:g.originDivWidth,height:g.originDivHeight}).appendTo(d.div_loading),d.loading_discription=a('<p class="loading-discription txt-textOneRow"></p>').css({color:g.discColor}).html(g.discription).appendTo(d.div_loading),"origin"==g.type&&(d.loadingOrigin=a('<div class="div-loadingOrigin"><span></span></div><div class="div-loadingOrigin"><span></span></div><div class="div_loadingOrigin"><span></span></div><div class="div_loadingOrigin"><span></span></div><div class="div_loadingOrigin"><span></span></div>').appendTo(d.loading),d.loadingOrigin.children().css({"margin-top":b,"margin-left":b,width:g.originWidth,height:g.originHeight,background:g.originBg})),"pic"==g.type&&(d.loadingPic=a('<img src="'+g.imgSrc+'" alt="loading" />').appendTo(d.loading)),d.cpt_loading_mask.on("touchstart touchend touchmove click",function(a){a.stopPropagation(),a.preventDefault()})},f._createLoading=function(){a(".cpt-loading-mask[data-name="+g.name+"]").length>0||f._showOriginLoading()},f._createLoading(),f.close=function(){a(".cpt-loading-mask[data-name="+g.name+"]").remove()}})},a.extend(a.fn,{closeLoading:function(b){var b=b||"";if(a("body,html").css({overflow:"auto"}),""==b)a(".cpt-loading-mask").remove();else{var c=b||"loadingName";a(".cpt-loading-mask[data-name="+c+"]").remove()}}})}(jQuery,window,document)}),define("dist/detail/userComments",["dist/application/api","dist/application/urlConfig"],function(a){function b(a){$.ajax({url:e.comment.getHotLableDataList+"?fid="+a,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){"0"==a.code&&(i=a.data,c(1))}})}function c(a,b){$.ajax({url:e.comment.getFileComment+"?fid="+h+"&lableId="+b+"&currentPage="+a+"&pageSize=15",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){if("0"==a.code&&a.data.rows&&a.data.rows.length){var c=[];$(a.data.rows).each(function(a,b){var d={photoPicURL:b.photoPicURL,nickName:b.nickName,score:new Array(Number(b.score)),content:b.content?b.content:"该用户暂无评论",createTime:new Date(b.createTime).formatDate("yyyy-MM-dd")};c.push(d)});var e=[];b&&void 0!=b?$(i).each(function(a,c){c.id==b?e.push({id:c.id,name:c.name,active:!0}):e.push({id:c.id,name:c.name,active:!1})}):e=i;var f=template.compile(g)({userComments:c||[],tagsList:e||[],lableId:b});$(".user-comments-container").html(f);var h=$(".guess-you-like-warpper").outerHeight(!0)||0,j=$(".user-comments-container").outerHeight(!0)||0,k=$(".detail-con").length,c=h+j+30,l=1==k||2==k||3==k?c+123:c;$(".detail-footer").css({position:"absolute",left:"0px",right:"0px",bottom:l+"px",width:"890px"}),d(a.data.totalPages,a.data.currentPage)}}})}function d(a,b){var d=template.compile(f)({paginationList:new Array(a||0),currentPage:b});$(".pagination-wrapper").html(d),$(".pagination-wrapper").on("click",".page-item",function(a){var b=$(this).attr("data-currentPage");if(b){var d=$(".evaluation-tags .tag-active").attr("data-id");c(b,d)}})}var e=a("dist/application/api"),f=a("dist/detail/template/simplePagination.html"),g=a("dist/detail/template/userComments.html"),h=window.pageConfig.params.g_fileId,i=[];b(h),$(document).on("click",".doc-main-br .user-comments-container .evaluation-tags .tag",function(){var a=$(this).attr("data-id");c(1,a)})}),define("dist/detail/template/simplePagination.html",[],'{{ if paginationList.length >1}}\n  <ul class="page-list pagination">\n        <li class="page-item first" data-currentPage="1">首页</li>\n        {{if currentPage>1}}\n        <li class="page-item prev" data-currentPage={{currentPage-1}}>上一页</li> \n        {{/if}}\n        {{ if paginationList.length>1}}\n            {{each paginationList}}\n                {{if $index >=0}}\n                     {{ if $index<+currentPage+3 }}\n                   {{if $index>=currentPage-3}}\n                          {{if currentPage == $index+1}}\n                                   <li class=\'page-item active\'  data-currentPage={{$index +1}}>\n                                       {{$index+1}}\n                                    </li>\n                          {{else}}\n                                <li class=\'page-item\' data-currentPage={{$index+1}}>\n                                       {{$index+1}}\n                                </li>\n                          {{/if}}\n                   {{/if}}\n               {{ /if }}\n                {{/if}}\n           {{/each}}\n\n           {{if currentPage <= paginationList.length -3}}\n                <li class="page-more page-item">...</li>\n           {{/if}}\n           {{if currentPage < paginationList.length}}\n             <li class="page-item" data-currentPage={{currentPage+1}}>下一页</li>\n          {{/if}}\n           <li class="page-item" data-currentPage={{paginationList.length}}>尾页</li>\n        {{/if}}  \n  </ul>\n{{/if}}'),
define("dist/detail/template/userComments.html",[],'<div class="user-comments">\n     <div class="user-evaluation">\n        <div class="evaluation-tags cf">\n            {{each tagsList as item }}\n                 {{if item.active}}\n                  <span class="tag tag-active" data-id="{{item.id}}">{{item.name}}</span>\n                 {{else}}\n                  <span class="tag" data-id="{{item.id}}">{{item.name}}</span>\n                 {{/if}}\n\n           {{/each}}\n           {{if lableId}}\n            <span class="tag tag-all absolute-tag" data-id="">全部</span>\n           {{else}}\n            <span class="tag tag-all absolute-tag tag-active" data-id="">全部</span>\n           {{/if}}\n        </div>\n        <ul class="evaluation-list">\n            {{each userComments as comment }}\n              <li class="evaluation-item">\n                    <p class="evaluation-user-summary">\n                       <img class="evaluation-user-avatar" src="{{comment.photoPicURL}}"/>\n                       <span class="evaluation-user-name">{{comment.nickName}}</span>\n                          {{ each comment.score}}\n                                 <span class="start"></span>\n                          {{/each}}\n                       <span class="evaluation-time fr">{{comment.createTime}}</span>\n                    </p>\n                    <p class="evaluation-desc">{{comment.content}}</p>\n              </li>\n              {{/each}}\n        </ul>\n    </div>\n<div class="pagination-wrapper">\n\n</div>\n</div>\n'),define("dist/detail/guessYouLike",["dist/common/paradigm4-report","dist/application/method","dist/application/api","dist/application/urlConfig"],function(a){function b(a,b){var d=a,e=b;$(window).on("scroll",function(){var a=$(window).height(),b=$(".guess-you-like-itmes").height(),f=b/3,g=parseInt($(".guess-you-like-itmes").offset().top),h=$(document).scrollTop();h+a-60-g>=f&&(i||(i=!0,d.length&&(c.pageView(d,e),trackEvent("NE006","modelView","view",{moduleID:"personality",moduleName:"猜你喜欢模块曝光"}))))}),$(document).on("click",".guess-you-like .item",function(){var d=$(this).data("id")||"",e=$(this).data("name")||"",f=window.pageConfig.params;trackEvent("NE017","fileListNormalClick","click",{moduleID:"personality",moduleName:"猜你喜欢",filePostion:$(this).index()+1,fileID:d,fileName:e,saleType:f.productType,fileCategoryID:f.classid1+"||"+f.classid2+"||"+f.classid3,fileCategoryName:f.classidName1+"||"+f.classidName2+"||"+f.classidName3}),c.eventReport(d,a,b)})}var c=a("dist/common/paradigm4-report"),d=a("dist/application/method"),e=a("dist/application/api"),f=a("dist/detail/template/guessYouLike.html"),g=d.getCookie("userId")?d.getCookie("userId"):d.getCookie("visitor_id"),h=Math.random().toString().slice(-10),i=!1,j=window.pageConfig&&window.pageConfig.params||{},k={userId:g,requestId:h,itemId:j.g_fileId,itemTitle:j.file_title};$ajax(e.recommend.recommendConfigInfo,"post",["ishare_personality"]).then(function(a){if("0"==a.code){var c=a.data[0].useId,d=$.extend({},a.data[0],{requestId:h});c&&$ajax("/detail/like/"+c,"POST",k).then(function(a){if("200"==a.code){window.paradigm4Data={paradigm4Guess:a.data};var c=[];$.each(a.data,function(a,b){c.push({id:b.itemId||"",format:b.categoryLevel5||"",name:b.title||"",cover_url:b.coverUrl||"",url:b.url||"",item_read_cnt:b.item_read_cnt,context:b.context})});var e=template.compile(f)({paradigm4GuessData:c});$(".guess-you-like-warpper").html(e);var g=$(".guess-you-like-warpper").outerHeight(!0)||0,h=$(".user-comments-container").outerHeight(!0)||0,i=$(".detail-con").length,j=g+h+30,k=1==i||2==i||3==i?j+123:j;$(".detail-footer").css({position:"absolute",left:"0px",right:"0px",bottom:k+"px",width:"890px"})}b(c,d)})}})}),define("dist/common/paradigm4-report",["dist/application/method"],function(a,b,c){var d=a("dist/application/method"),e={url:"/detail/actionslog",commonParam:function(){var a=new Date,b=a.getFullYear(),c=a.getMonth()+1,d=c>9?c:"0"+c,e=a.getDate()>9?a.getDate():"0"+a.getDate(),f=a.toTimeString().split("GMT")[0].trim(),g=b+"-"+d+"-"+e+" "+f;return g},pageView:function(a,b){var c=this.commonParam(),e=d.getCookie("userId")||d.getCookie("visitor_id"),f=b.token,g=this.url+"/"+f,h=[];$(a).each(function(a,c){h.push({itemId:c.id||c.itemId,actionTime:(new Date).getTime(),action:"show",itemSetId:b.materialId||"",sceneId:b.useId,userId:e,context:c.context,requestId:b.requestId,lib:"pc-node",deviceId:"pc-node"})});var i={date:c,actions:h};$ajax(g,"post",i).then(function(a){console.log("paradigm4:",a)})},eventReport:function(a,b,c){var e=this.commonParam(),f=d.getCookie("userId")||d.getCookie("visitor_id"),g=c.token,h=this.url+"/"+g,i="";$(b).each(function(b,c){c.id==a||c.itemId==a?i=c.context:""});var j={date:e,actions:[{itemId:a,actionTime:(new Date).getTime(),action:"detailPageShow",itemSetId:c.materialId||"",sceneId:c.useId,userId:f,context:i,requestId:c.requestId,lib:"pc-node",deviceId:"pc-node"}]};$ajax(h,"post",j).then(function(a){console.log("paradigm4:",a)})}};return e}),define("dist/detail/template/guessYouLike.html",[],'<!--猜你喜欢-->\n<div class="guess-you-like">\n\n    {{ if isConvert == \'1\' }}\n        <h2 class="guess-you-like-title">猜你喜欢</h2>\n    {{ else }}\n        <h2 class="guess-you-like-title">你可能还喜欢</h2>\n        {{ /if }}\n        <ul class="guess-you-like-itmes">\n            {{each paradigm4GuessData as item}}\n            <li class="item" data-id="{{item.id}}" data-name="{{item.name}}">\n                <a class="item-link" href="/f/{{item.id}}.html"    target="_blank">\n                    <div class="item-link-left">\n                        {{ if item.cover_url }}\n                            <img class="item-link-left-img"  src={{item.cover_url}} alt={{item.name}}/>\n                            <span class="item-link-left-icon ico-data ico-{{item.format}}">\n                                <span>\n                                {{ else }}\n                                    <img class="item-link-left-img"  src="{{cdnUrl}}/images/detail/pic_data_normal.jpg" alt={{item.name}}/>\n                                    <span class="item-link-left-icon">\n                                        <span>\n                                            {{ /if }}\n                                        </div>\n                                        <div class="item-link-right">\n                                            <p class="item-link-right-desc">{{item.name}}</p>\n                                            <p class="item-link-right-other">\n                                                {{if item.item_read_cnt}}\n                                                    <span class="other-read">{{item.item_read_cnt}}阅读</span>\n                                                {{/if}}\n                                            </p>\n                                        </div>\n                                    </a>\n                                </li>\n                            {{/each}}\n                        </ul>\n                    </div>'),define("dist/detail/relevantInformation",["dist/common/paradigm4-report","dist/application/method","dist/application/api","dist/application/urlConfig"],function(a){function b(a,b){var d=a,e=b;a.length&&(c.pageView(a,b),trackEvent("NE006","modelView","view",{moduleID:"relevant",moduleName:"相关推荐模块曝光"})),$(document).on("click",".related-data-list li",function(){var a=$(this).data("id")||"",b=$(this).data("name")||"",f=window.pageConfig.params;trackEvent("NE017","fileListNormalClick","click",{moduleID:"relevant",moduleName:"相关推荐",filePostion:$(this).index()+1,fileID:a,fileName:b,saleType:f.productType,fileCategoryID:f.classid1+"||"+f.classid2+"||"+f.classid3,fileCategoryName:f.classidName1+"||"+f.classidName2+"||"+f.classidName3}),c.eventReport(a,d,e)})}var c=a("dist/common/paradigm4-report"),d=a("dist/application/method"),e=a("dist/application/api"),f=a("dist/detail/template/relevantInformation.html"),g=d.getCookie("userId")?d.getCookie("userId"):d.getCookie("visitor_id"),h=Math.random().toString().slice(-10),i=window.pageConfig.params&&window.pageConfig.params.g_fileId,j=window.pageConfig.params&&window.pageConfig.params.file_title,k={userId:g,requestId:h,itemId:i,itemTitle:j};$ajax(e.recommend.recommendConfigInfo,"post",["ishare_pc_relevant"]).then(function(a){if("0"==a.code){var c=a.data[0].useId,d=$.extend({},a.data[0],{requestId:h});c&&$ajax("/detail/relevant/"+c,"POST",k).then(function(a){if("200"==a.code){var c=[];$.each(a.data,function(a,b){c.push({id:b.itemId||"",format:b.categoryLevel5||"",name:b.title||"",cover_url:b.coverUrl||"",url:b.url||"",item_read_cnt:b.item_read_cnt,context:b.context})});var e=template.compile(f)({RelevantInformationList:c.slice(0,4)});$(".related-data").html(e)}b(c,d)})}})}),define("dist/detail/template/relevantInformation.html",[],'<!--相关资料-->\n<h2 class="related-data-title">相关资料</h2>\n<ul class="related-data-list">\n   {{each RelevantInformationList as item}}\n   <li class="item" data-id="{{item.id}}" data-name="{{item.name}}">\n      <a class="item-link" href="/f/{{item.id}}.html" target="_blank" data-id="{{item.id}}" class="_blank">\n         <div class="item-link-left fr">\n            {{ if item.cover_url }}\n               <img class="item-link-left-img" src="{{item.cover_url}}" alt="{{item.name}}"/>\n            {{ else }}\n               <img class="item-link-left-img" src="{{cdnUrl}}/images/default-picture.png" alt="{{item.name}}"/>\n            {{/if}}\n            <span  class="item-link-left-icon ico-data ico-{{item.format}}">\n               <span></div>\n               <div class="item-link-right fl">\n                  <p class="item-link-right-desc">{{item.name}}</p>\n                  <p class="item-link-right-other">\n                     {{ if  item.item_read_cnt }}\n                        <span class="other-read">{{item.item_read_cnt}}阅读</span>\n                        {{ /if }}\n                     </p>\n                  </div>\n               </a>\n            </li>\n         {{/each}}\n      </ul>'),define("dist/detail/download",["dist/application/method","dist/cmd-lib/myDialog","dist/cmd-lib/toast","dist/cmd-lib/loading","dist/cmd-lib/util","dist/detail/common","dist/application/api","dist/application/urlConfig","dist/common/loginType","dist/detail/handlePaidTest","dist/application/checkLogin","dist/application/login","dist/application/loginOperationLogic","dist/cmd-lib/jqueryMd5","dist/common/bindphone","dist/common/baidu-statistics","dist/common/message-center/index"],function(a,b,c){var d=a("dist/application/method");a("dist/cmd-lib/myDialog"),a("dist/cmd-lib/toast"),a("dist/cmd-lib/loading");var e=a("dist/cmd-lib/util"),f=a("dist/detail/common"),g=a("dist/application/checkLogin"),h=a("dist/application/api"),i=window.pageConfig.params.g_fileId,j=$("#tpl-down-android").html(),k=window.pageConfig.params.file_title,l=$("#tpl-down-text"),m=$("#permanent_privilege"),n=$("#permanent_privilege_not"),o=$("#vipFreeDownCounts"),p=$("#freeDownCounts"),q=null,r="",s=function(){d.delCookie("event_data_down","/"),"n"!==window.pageConfig.page.isDownload&&d.get(h.normalFileDetail.filePreDownLoad+"?fid="+i,function(a){0==a.code?t(a):42e3==a.code||42001==a.code||42002==a.code||42003==a.code?$("#dialog-box").dialog({html:l.html().replace(/\$msg/,a.message)}).open():40001==a.code?g.notifyLoginInterface(function(a){q=a}):42011==a.code?d.compatibleIESkip("/pay/vip.html",!1):$("#dialog-box").dialog({html:l.html().replace(/\$msg/,a.message)}).open()},"")},t=function(a){var b=$("#dialog-box");switch(f=window.pageConfig.params.g_fileId,a.data.checkStatus){case 0:var c=d.browserType();if(d.delCookie("event_data_down","/"),a.data.score>0?expendScoreNum_var=Number(a.data.score):a.data.volume>0?expendNum_var=Number(a.data.volume):window.pageConfig.params.file_volume>0&&a.data.privilege>0&&(expendNum_var=1),"IE"===c||"Edge"===c){var f=window.pageConfig.params.g_fileId,g=a.data.consumeStatus,h="/node/f/downsucc.html?fid="+f+"&consumeStatus="+g+"&url="+encodeURIComponent(a.data.fileDownUrl);x(h)}else if("Firefox"===c){var i=window.pageConfig.params.g_fileId,j=a.data.consumeStatus,m="/node/f/downsucc.html?fid="+i+"&consumeStatus="+j+"&url="+encodeURIComponent(a.data.fileDownUrl);x(m)}else{var q=window.pageConfig.params.g_fileId,r=a.data.consumeStatus,s="/node/f/downsucc.html?fid="+q+"&consumeStatus="+r+"&title="+encodeURIComponent(k)+"&url="+encodeURIComponent(a.data.fileDownUrl);x(s)}break;case 8:var t=window.pageConfig.params.g_fileId,u=window.pageConfig.params.file_format,v=window.pageConfig.params.file_title,w="",z=e.getPageRef(t);d.setCookieWithExpPath("rf",JSON.stringify({}),3e5,"/"),d.setCookieWithExp("f",JSON.stringify({fid:t,title:v,format:u}),3e5,"/"),w="?orderNo="+t+"&checkStatus="+a.data.checkStatus+"&referrer="+document.referrer,d.compatibleIESkip("/pay/payConfirm.html"+w,!1);break;case 1:var A=d.getCookie("ui")?JSON.parse(decodeURIComponent(d.getCookie("ui"))):{isVip:""};"1"==A.isVip?$("#dialog-box").dialog({html:o.html()}).open():$("#dialog-box").dialog({html:p.html()}).open();break;case 2:b.dialog({html:l.html().replace(/\$msg/,"您当日下载过于频繁,一分钟后再下载")}).open();break;case 10:var B=window.pageConfig.params.g_fileId,C=1,D="",E=window.pageConfig.params.file_format,v=window.pageConfig.params.file_title,F=window.pageConfig.params.productType,G=window.pageConfig.params.userFileType,H=window.pageConfig.params.userFilePrice;d.setCookieWithExp("f",JSON.stringify({fid:B,title:v,format:E}),3e5,"/"),D="4"==F?"?fid="+f+"&ft="+u+"&checkStatus="+a.data.checkStatus+"&name="+encodeURIComponent(encodeURIComponent(v))+"&ref="+z+"&showTips="+C+"&productType="+F+"&userFileType="+G+"&userFilePrice="+H:"?fid="+f+"&ft="+u+"&checkStatus="+a.data.checkStatus+"&name="+encodeURIComponent(encodeURIComponent(v))+"&ref="+z+"&showTips="+C,y("/pay/vip.html"+D);break;case 13:trackEvent("NE006","modelView","view",{moduleID:"buyTqCon",moduleName:"特权补充弹窗"}),b.dialog({html:n.html().replace(/\$title/,pageConfig.params.file_title.substr(0,20)).replace(/\$fileSize/,pageConfig.params.file_size).replace(/\$code/,a.data.status).replace(/\$privilege/,a.data.privilege).replace(/\$productPrice/,a.data.productPrice)}).open();break;case 17:b.dialog({html:l.html().replace(/\$msg/,"在线文档不支持下载")}).open();break;case 99:break;case 98:}},u=function(){d.getCookie("cuk")?d.getCookie("cuk")&&!q?g.getLoginData(function(a){q=a,s(),f.afterLogin(a)}):d.getCookie("cuk")&&q&&s():(g.notifyLoginInterface(function(a){q=a,s(),f.afterLogin(a)}),$(this).attr("loginOffer")&&d.setCookieWithExpPath("_loginOffer",$(this).attr("loginOffer"),36e5,"/"),d.setCookieWithExpPath("event_data_down","down",36e5,"/"))},v=function(a){if(!a){var b=window.pageConfig.page,c=window.pageConfig.params;trackEvent("SE003","fileDetailDownClick","click",{fileID:c.g_fileId,fileName:b.fileName,fileType:c.userFileType,salePrice:c.productPrice,saleType:c.productType,fileCategoryID:c.classid1+"||"+c.classid2+"||"+c.classid3,fileCategoryName:c.classidName1+"||"+c.classidName2+"||"+c.classidName3}),("fileDetailBottomDown"==r||"fileDetailBottomBuy"==r||"fileDetailBottomOpenVip8"==r)&&trackEvent("NE061","fileDetailDownClick","click",{domID:"fileDetailBottomDown",domName:"立即下载-a"})}d.getCookie("cuk")?4==window.pageConfig.page.productType?$.ajax({headers:{Authrization:d.getCookie("cuk")},url:h.normalFileDetail.filePreDownLoad,type:"POST",data:JSON.stringify({clientType:0,fid:i,sourceType:1}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){console.log(a),"0"==a.code?0==a.data.checkStatus&&2==a.data.consumeStatus?(trackEvent("NE006","modelView","view",{moduleID:"vipTqCon",moduleName:"特权兑换弹窗"}),A.dialog({html:m.html().replace(/\$title/,pageConfig.params.file_title.substr(0,20)).replace(/\$fileSize/,pageConfig.params.file_size).replace(/\$privilege/,a.data.privilege||0).replace(/\$productPrice/,a.data.productPrice||0).replace(/\$code/,a.data.status)}).open()):w():$.toast({text:a.message||"预下载失败",delay:2e3})}}):w():(d.setCookieWithExpPath("download-qqweibo",1,36e5,"/"),g.notifyLoginInterface(function(a){var b=window.loginType;console.log("loginType:",b),("qq"!==b||"weibo"!==b)&&d.delCookie("download-qqweibo","/"),f.afterLogin(a),q=a,v(!0)}))},w=function(){$.ajax({headers:{Authrization:d.getCookie("cuk")},url:h.normalFileDetail.getFileDownLoadUrl,type:"POST",data:JSON.stringify({clientType:0,fid:i,sourceType:1}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){console.log(a),"0"==a.code?t(a):$.toast({text:a.message||"下载失败",delay:2e3})}})},x=function(a){d.compatibleIESkip(a,!1)},y=function(a){d.compatibleIESkip(a,!1)},z=d.getCookie("event_data_down");d.getCookie("cuk")&&"down"==z&&(d.delCookie("event_data_down","/"),u());var A=$("#dialog-box");A.on("click",".btn-dialog-download",function(){var a=$(this).attr("data-code");a&&w()}),$(document).on("click",'[data-toggle="download"]',function(a){r=$(this).attr("bilogcontent"),v()}),$(document).on("click",".sava-app",function(a){$("#dialog-box").dialog({html:j}).open()}),window.downLoad=v,c.exports={downLoad:v}}),define("dist/cmd-lib/toast",[],function(a,b,c){!function(a,b,c){function d(b){this.options={text:"我是toast提示",icon:"",delay:3e3,callback:!1},b&&a.isPlainObject(b)&&a.extend(!0,this.options,b),this.init()}d.prototype.init=function(){var b=this;b.body=a("body"),b.toastWrap=a('<div class="ui-toast" style="position:fixed;min-width:200px;padding:0 10px;height:60px;line-height:60px;text-align:center;background:#000;opacity:0.8;filter:alpha(opacity=80);top:40%;left:50%;margin-left:-100px;margin-top:-30px;border-radius:4px;z-index:99999999">'),b.toastIcon=a('<i class="icon"></i>'),b.toastText=a('<span class="ui-toast-text" style="color:#fff">'+b.options.text+"</span>"),b._creatDom(),b.show(),b.hide()},d.prototype._creatDom=function(){var a=this;a.options.icon&&a.toastWrap.append(a.toastIcon.addClass(a.options.icon)),a.toastWrap.append(a.toastText),a.body.append(a.toastWrap)},d.prototype.show=function(){var a=this;setTimeout(function(){a.toastWrap.removeClass("hide").addClass("show")},50)},d.prototype.hide=function(){var a=this;setTimeout(function(){a.toastWrap.removeClass("show").addClass("hide"),a.toastWrap.remove(),a.options.callback&&a.options.callback()},a.options.delay)},a.toast=function(a){return new d(a)}}($,window,document)}),define("dist/cmd-lib/util",[],function(a,b,c){var d={throttle:function(a,b){var c,d;return function(e){var f=this,g=arguments,h=+new Date;c&&c+b>h?(clearTimeout(d),d=setTimeout(function(){c=h,a.apply(f,g)},b)):(c=h,a.apply(f,g))}},debounce:function(a,b){var c=0,d=this;return function(e){c&&clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}},isWeChatBrow:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("micromessenger");return b?!0:!1},getWebAppUA:function(){var a=0,b=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(b)?a=1:/android/.test(b)&&(a=0),a},validateIE8:function(){return!$.browser.msie||"8.0"!=$.browser.version&&"7.0"!=$.browser.version&&"6.0"!=$.browser.version?!1:!0},validateIE9:function(){return!$.browser.msie||"9.0"!=$.browser.version&&"8.0"!=$.browser.version&&"7.0"!=$.browser.version&&"6.0"!=$.browser.version?!1:!0},getReferrer:function(){var a=document.referrer,b="";return/https?\:\/\/[^\s]*wenku.so.com.*$/g.test(a)?b="360wenku":/https?\:\/\/[^\s]*so.com.*$/g.test(a)?b="360":/https?\:\/\/[^\s]*baidu.com.*$/g.test(a)?b="baidu":/https?\:\/\/[^\s]*sogou.com.*$/g.test(a)?b="sogou":/https?\:\/\/[^\s]*sm.cn.*$/g.test(a)?b="sm":/https?\:\/\/[^\s]*ishare.iask.sina.com.cn.*$/g.test(a)?b="ishare":/https?\:\/\/[^\s]*iask.sina.com.cn.*$/g.test(a)&&(b="iask"),b},getPageRef:function(a){var b=this,c=0;return(b.is360cookie(a)||b.is360cookie("360"))&&(c=1),b.is360wkCookie()&&(c=3),c},is360cookie:function(a){var b=this,c=b.getCookie("_r_so");if(c)for(var d=c.split("_"),e=0;e<d.length;e++)if(d[e]==a)return!0;return!1},add360wkCookie:function(){this.setCookieWithExpPath("_360hz","1",18e5,"/")},is360wkCookie:function(){return null==getCookie("_360hz")?!1:!0},getCookie:function(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!==b?unescape(b[2]):null},setCookieWithExpPath:function(a,b,c,d){var e=new Date;e.setTime(e.getTime()+c),document.cookie=a+"="+escape(b)+";path="+d+";expires="+e.toGMTString()},findRefer:function(){var a=document.referrer,b="other";return/https?\:\/\/[^\s]*\/f\/.*$/g.test(a)?b="pindex":/https?\:\/\/[^\s]*\/d\/.*$/g.test(a)?b="landing":/https?\:\/\/[^\s]*\/c\/.*$/g.test(a)?b="pcat":/https?\:\/\/[^\s]*\/search\/.*$/g.test(a)?b="psearch":/https?\:\/\/[^\s]*\/t\/.*$/g.test(a)?b="ptag":/https?\:\/\/[^\s]*\/[u|n]\/.*$/g.test(a)?b="popenuser":/https?\:\/\/[^\s]*\/ucenter\/.*$/g.test(a)?b="puser":/https?\:\/\/[^\s]*ishare.iask.sina.com.cn.$/g.test(a)?b="ishareindex":/https?\:\/\/[^\s]*\/theme\/.*$/g.test(a)?b="theme":/https?\:\/\/[^\s]*wenku.so.com.*$/g.test(a)?b="360wenku":/https?\:\/\/[^\s]*so.com.*$/g.test(a)?b="360":/https?\:\/\/[^\s]*baidu.com.*$/g.test(a)?b="baidu":/https?\:\/\/[^\s]*sogou.com.*$/g.test(a)?b="sogou":/https?\:\/\/[^\s]*sm.cn.*$/g.test(a)?b="sm":/https?\:\/\/[^\s]*ishare.iask.sina.com.cn.*$/g.test(a)?b="ishare":/https?\:\/\/[^\s]*iask.sina.com.cn.*$/g.test(a)&&(b="iask"),b},showAlertDialog:function(a,b,c){var d=$(".common-bgMask"),e=$(".common-dialog");e.find("h2[name='title']").text(a),e.find("span[name='content']").html(b),e.find("a.close,a.btn-dialog").unbind("click").click(function(){d.hide(),e.hide(),c&&!$(this).hasClass("close")&&c()}),d.show(),e.show()},browserVersion:function(a){var b=a.indexOf("Opera")>-1,c=a.indexOf("compatible")>-1&&a.indexOf("MSIE")>-1&&!b,d=a.indexOf("Edge")>-1,e=a.indexOf("Firefox")>-1,f=a.indexOf("Safari")>-1&&-1===a.indexOf("Chrome"),g=a.indexOf("Chrome")>-1&&a.indexOf("Safari")>-1;if(c){var h=new RegExp("MSIE (\\d+\\.\\d+);");h.test(a);var i=parseFloat(RegExp.$1);return 7===i?"IE7":8===i?"IE8":9===i?"IE9":10===i?"IE10":11===i?"IE11":12===i?"IE12":"IE"}return b?"Opera":d?"Edge":e?"Firefox":f?"Safari":g?"Chrome":"unKnow"},getBrowserInfo:function(a){var b={},c=a.toLowerCase(),d=/(msie|firefox|chrome|opera|version|trident).*?([\d.]+)/,e=c.match(d);return e&&e.length>=2?(b.browser=e[1].replace(/version/,"'safari")||"unknow",b.ver=e[2]||"1.0.0"):(b.browser="unknow",b.ver="1.0.0"),b.browser+"/"+b.ver},timeFormat:function(a,b){if(!b)return"";var c=new Date(b),d=c.getFullYear(),e=c.getMonth()+1,f=c.getDate(),g=c.getHours(),h=c.getMinutes(),i=c.getSeconds();return 10>e&&(e+="0"),10>f&&(f+="0"),10>g&&(g+="0"),10>h&&(h+="0"),10>i&&(i+="0"),"yyyy-mm-dd"===a?d+"-"+e+"-"+f:d+"-"+e+"-"+f+" "+g+":"+h+":"+i}};c.exports=d}),define("dist/detail/common",["dist/application/method","dist/application/api","dist/application/urlConfig","dist/common/loginType","dist/detail/handlePaidTest"],function(a,b,c){var d=a("dist/application/method"),e=a("dist/application/api"),f=a("dist/detail/template/pay_btn_tmp.html"),g=a("dist/common/loginType"),h=null,i=window.pageConfig&&window.pageConfig,j=a("dist/detail/handlePaidTest").getPaidTestData,k={fileDiscount:"80",isDownload:i.page.isDownload,vipFreeFlag:i.params.vipFreeFlag,isVip:0,perMin:i.params.g_permin,vipDiscountFlag:i.params.vipDiscountFlag,ownVipDiscountFlag:i.params.ownVipDiscountFlag,volume:i.params.file_volume,moneyPrice:i.params.moneyPrice,fid:i.params.g_fileId,title:i.page.fileName,format:i.params.file_format,cdnUrl:_head,cuk:d.getCookie("cuk"),productType:i.page.productType,productPrice:i.page.productPrice},l=function(a){var b=$("#detail-unLogin"),c=$("#haveLogin"),e=$(".top-user-more"),f=$(".icon-iShare-text"),h=$(".btn-user-more"),i=$(".vip-status");$(".icon-iShare");$(".top-bar .news").removeClass("hide").find("#user-msg").text(a.msgCount),f.html("1"===a.isVip?"续费VIP":"开通VIP"),h.text("1"===a.isVip?"续费":"开通"),"0"===a.isVip?$(".open-vip").show().siblings("a").hide():$(".xf-open-vip").show().siblings("a").hide();var j=null;1==a.isVip?(j=i.find('p[data-type="2"]'),j.find(".expire_time").html(a.expireTime),j.show().siblings().hide(),e.addClass("top-vip-more")):1==a.userType&&(j=i.find('p[data-type="3"]'),j.show().siblings().hide()),b.hide(),c.find(".icon-detail").html(a.nickName),c.find("img").attr("src",a.photoPicURL);var k=a.nickName&&a.nickName.length>4?a.nickName.slice(0,4)+"...":a.nickName;c.find(".user-link .user-name").text(k);var l=g[d.getCookie("loginType")];if(c.find(".user-link .user-loginType").text(l?l+"登录":""),e.find("img").attr("src",a.photoPicURL),e.find("#userName").html(a.nickName),c.show(),$(".user-avatar img").attr("src",a.photoPicURL),$(".name-wrap .name-text").html(a.nickName),"1"===a.isVip){var m="您的VIP将于"+a.expireTime+"到期,剩余"+a.privilege+"次下载特权";$(".detail-right-normal-wel").html(m),$(".detail-right-vip-wel").html("会员尊享权益"),$(".btn-mui").hide(),$("#memProfit").html("VIP权益")}else $(".mui-privilege-list li").removeClass("hide")},m=function(){$("#footer-btn").html(template.compile(f)({data:k})),j()},n=function(){var a=0;if("1"==k.vipDiscountFlag&&(a=1==k.isVip?(k.moneyPrice*(k.fileDiscount/100)).toFixed(2):(.8*k.moneyPrice).toFixed(2),$(".js-original-price").html(a),1==k.isVip?$(".vip-price").html("&yen;"+(k.moneyPrice*(k.fileDiscount/100)).toFixed(2)):$(".vip-price").html("&yen;"+(.8*k.moneyPrice).toFixed(2))),"5"===k.productType&&"1"==k.vipDiscountFlag){a=1==h.isVip?(k.moneyPrice*(k.fileDiscount/100)).toFixed(2):(.8*k.moneyPrice).toFixed(2),$(".js-original-price").html(a);var b=1==h.isVip?(k.moneyPrice*(k.fileDiscount/100)).toFixed(2):(.8*k.moneyPrice).toFixed(2);$("#vip-save-money").html(b),$(".js-original-price").html(b)}},o=function(a){var b=d.validateIE9()?1:0,c=window.pageConfig;console.log("获取文件"),$.ajax({headers:{Authrization:d.getCookie("cuk")},url:e.normalFileDetail.getPrePageInfo,type:"POST",data:JSON.stringify({fid:c.params.g_fileId,isIe9Low:b,site:4}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(b){if(0==b.code){c.page.preRead=b.data&&b.data.transcodeInfo&&b.data.transcodeInfo.preRead||50;var e=d.getParam("page");if(e>0&&(c.page.is360page="true",c.page.initReadPage=Math.min(e,50)),c.page.status=k.status=b.data&&b.data.status,"5"==k.productType||"4"==k.productType||"3"==k.productType){var f=Number(window.pageConfig.params.totalPage),g=$(".detail-pro-con div.article-page").length,h=Number(window.pageConfig.page.preRead)||50,i=Math.min(h,50);(g-i>=0||g==f)&&window.changeText()}"3"===c.params.file_state&&(c.imgUrl=b.data.transcodeInfo.contentPathList||[]),d.getCookie("cuk")&&m(),n(),a&&(b.data&&2==b.data.status?window.downLoad():a.callback(a.type,a.data,a.isPaidTest))}}})};return{initData:k,userData:h,beforeLogin:function(){},afterLogin:function(a,b){h=a,k.isVip=parseInt(a.isVip,10),k.fileDiscount=a.fileDiscount,window.pageConfig.page.fileDiscount=a.fileDiscount,l(a),o(b)}}}),define("dist/detail/template/pay_btn_tmp.html",[],'<div class="bottom-fix qwe">\n    {{if data.productType == "3"}}\n    <!--仅在线阅读-->\n    {{if data.isVip == 1}}\n    <div class="data-item fl">\n        <h2 class="data-title fl"><i class="ico-big-data\n            ico-big-{{data.format}}"></i>{{data.title}}</h2>\n        <span class="online-read">仅供在线阅读</span>\n    </div>\n    <div class="integral-con fr">\n        <a id="searchRes" class="btn-fix-vip fl js-disable"><i class="icon-detail"></i>该资料不支持下载</a>\n    </div>\n\n    {{else}}\n    <div class="data-item fl">\n        <h2 class="data-title fl"><i class="ico-big-data\n                ico-big-{{data.format}}"></i>{{data.title}}</h2>\n        <span class="online-read">仅供在线阅读</span>\n    </div>\n    <div class="integral-con fr">\n        <a class="btn-fix-vip js-buy-open fl js-disable"pcTrackContent="joinVip-2"\n            data-type="vip">该资料不支持下载</a>\n    </div>\n    {{/if}}\n    {{else}}\n    <!--VIP免费-->\n    {{if data.productType == 4}}\n    <div class="data-item fl">\n        <h2 class="data-title fl"><i class="ico-big-data\n                ico-big-{{data.format}}"></i>{{data.title}}</h2>\n    </div>\n    <div class="integral-con fr">\n        {{ if data.status != 2 }}\n        <span class="integral-con-vipnum" style="float:left;margin-right:15px;">{{ data.productPrice }}个下载特权</span>\n        <a class="btn-fix-bottom btn-fix-bottom-normal  fl"pcTrackContent="downloadBtn-3"\n        data-toggle="download">立即下载</a>\n\n        <p  class="integral-con-content js-buy-open" style="display: none;">\n            <span class="integral-con-price" style="font-weight: bold;">\n            <i class="integral-con-priceicon" style="font-style: normal;">¥</i>\n            <i class="integral-con-pricenum" style="font-style: normal;font-size: 18px;"></i>\n        </span>\n        <span class="integral-con-desc"></span>\n    </p>\n        <a class="btn-fix-bottom btn-fix-bottom-vip  fl" style="display: none;" pcTrackContent="downloadBtn-3"\n            data-toggle="download">VIP特权下载</a>\n        {{ else }}\n        <a class="btn-fix-bottom fl"pcTrackContent="downloadBtn-3"\n            data-toggle="download">立即下载 <span class="bought">已购买</span></a>\n        {{/if}}\n    </div>\n    {{else}}\n    {{if data.productType == "5" }}\n    <!--现金文档 -->\n    <!--专享8折 加入vip8折购买 立即下载 立即购买-->\n    {{if data.isVip == 1 && data.vipDiscountFlag == 1 }}\n    <div class="data-item fl">\n        <h2 class="data-title fl">\n            <i class="ico-big-data ico-big-{{data.format}}"></i>{{data.title}}\n        </h2>\n    </div>\n    <div class="integral-con fr">\n        {{if data.status!=2}}\n        <div class="price-con price-more fl">\n            <p class="price vip-price">¥{{data.productPrice}}</p>\n            <p class="origin-price">原价&yen; {{data.productPrice}}</p>\n        </div>\n        <a class="btn-fix-bottom js-buy-open fl"pcTrackContent="buyBtn-3"\n            data-type="file">立即下载</a>\n        {{else}}\n        <a class="btn-fix-bottom fl"pcTrackContent="downloadBtn-3"\n            data-toggle="download">立即下载</a>\n        {{/if}}\n    </div>\n    <!--&& data.ownVipDiscountFlag== 1-->\n    {{else if data.isVip != 1 && data.vipDiscountFlag == 1 }}\n    <div class="data-item fl">\n        <h2 class="data-title fl"><i class="ico-big-data\n                ico-big-{{data.format}}"></i>{{data.title}}</h2>\n    </div>\n    <div class="integral-con fr">\n        {{if data.status!=2}}\n        <div class="price-con price-more fl">\n            <!--现金文档价格 -->\n            <p class="price" style="">&yen;{{data.productPrice}}</p>\n            <!--现金文档 有折扣 非vip会员 -->\n\n            <p class="vip-sale-price">会员价&yen;<span class="js-original-price">{{data.productPrice}}</span></p>\n        </div>\n        <a class="btn-fix-bottom btn-fix-border js-buy-open fl"pcTrackContent="buyBtn-3"\n            data-type="file">立即下载</a>\n        {{else}}\n        <a class="btn-fix-bottom fl"pcTrackContent="downloadBtn-3"\n            data-toggle="download">立即下载</a>\n        {{/if}}\n    </div>\n    {{else}}\n    <div class="data-item fl">\n        <h2 class="data-title fl">\n            <i class="ico-big-data ico-big-{{data.format}}"></i>{{data.title}}\n        </h2>\n    </div>\n\n    <div class="integral-con fr">\n        {{if data.status!=2}}\n        <div class="price-con fl">\n            <!--现金文档价格 -->\n            <p class="price" style="">¥{{data.productPrice}}</p>\n        </div>\n        <a class="btn-fix-bottom js-buy-open fl"pcTrackContent="buyBtn-3"\n            loginOffer="buyBtn-2" data-type="file">立即下载</a>\n        {{else}}\n        <a class="btn-fix-bottom fl"pcTrackContent="downloadBtn-3"\n            data-toggle="download">立即下载</a>\n        {{/if}}\n    </div>\n    {{/if}}\n    {{else}}\n    <!--vip-->\n    {{if data.isVip == 1}}\n    <div class="data-item fl">\n        <h2 class="data-title fl">\n            <i class="ico-big-data ico-big-{{data.format}}"></i>{{data.title}}\n        </h2>\n    </div>\n    <div class="integral-con fr">\n        {{if data.volume > 0}}\n        <div class="price-con fl">\n            <p class="price">{{data.volume}}下载券</p>\n        </div>\n        {{/if}}\n        <a class="btn-fix-bottom fl"pcTrackContent="downloadBtn-3"\n            data-toggle="download">立即下载</a>\n    </div>\n    {{else}}\n    {{if data.volume > 0}}\n\n    <div class="data-item fl">\n        <h2 class="data-title fl">\n            <i class="ico-big-data ico-big-{{data.format}}"></i>{{data.title}}\n        </h2>\n    </div>\n\n    <div class="integral-con fr">\n        <div class="price-con fl">\n            <p class="price" style="">{{data.volume}}下载券</p>\n        </div>\n        <a class="btn-fix-bottom fl"pcTrackContent="downloadBtn-3"\n            data-toggle="download">立即下载</a>\n    </div>\n    {{else}}\n    <div class="data-item fl">\n        <h2 class="data-title fl">\n            <i class="ico-big-data ico-big-{{data.format}}"></i>{{data.title}}\n        </h2>\n    </div>\n\n    <div class="integral-con fr">\n        <a class="btn-fix-bottom fl"pcTrackContent="downloadBtn-3"\n            data-toggle="download">立即下载</a>\n    </div>\n    {{/if}}\n    {{/if}}\n    {{/if}}\n    {{/if}}\n    {{/if}}\n</div>\n'),
define("dist/common/loginType",[],function(a,b,c){return{wechat:"微信",qq:"QQ",weibo:"微博",phoneCode:"验证码",phonePw:"密码"}}),define("dist/detail/handlePaidTest",["dist/application/api","dist/application/urlConfig"],function(a){function b(){g||h?c(g,h):$ajax(e,"GET","").done(function(a){0==a.code&&a.data&&a.data.length?($.each(a.data,function(a,b){4==b.pcode&&(f=!0,g=b.pvalue,h=b.desc,c(g,h))}),f||c()):c()})}function c(a,b){a&&b?($(".integral-con .integral-con-price .integral-con-pricenum").text(a/100),$(".integral-con .integral-con-desc").text(b),$(".integral-con .integral-con-content").attr("price",a/100),$(".integral-con .integral-con-content").attr("desc",b),$(".integral-con .integral-con-content").show(),$(".integral-con .btn-fix-bottom-vip").show(),$(".integral-con .btn-fix-bottom-normal").hide(),$(".integral-con .integral-con-vipnum").hide()):($(".integral-con .integral-con-content").hide(),$(".integral-con .btn-fix-bottom-vip").hide(),$(".btn-fix-bottom .bought").hide())}var d=a("dist/application/api"),e=d.user.dictionaryData.replace("$code","PaidTest"),f=!1,g="",h="";return{getPaidTestData:b}}),define("dist/application/checkLogin",["dist/application/api","dist/application/urlConfig","dist/application/method","dist/application/login","dist/application/loginOperationLogic","dist/cmd-lib/jqueryMd5","dist/common/bindphone","dist/cmd-lib/myDialog","dist/cmd-lib/toast","dist/common/baidu-statistics","dist/common/message-center/index"],function(a,b,c){var d=a("dist/application/api"),e=a("dist/application/method"),f=a("dist/application/login").showLoginDialog;a("dist/common/baidu-statistics").initBaiduStatistics("17cdd3f409f282dc0eeb3785fcf78a66");var g=a("dist/common/baidu-statistics").handleBaiduStatisticsPush,h=a("dist/common/message-center/index");c.exports={getIds:function(){var a=window.pageConfig&&window.pageConfig.params?window.pageConfig.params:null,b=window.pageConfig&&window.pageConfig.access?window.pageConfig.access:null,c=a?a.classid:"",d=b?b.fileId||a.g_fileId||"":"",e=a&&a.classIds?a.classIds:"";return!c&&(c=e),{clsId:c,fid:d}},notifyLoginInterface:function(a){var b=this;if(!e.getCookie("cuk")){var c=(window.pageConfig&&window.pageConfig.page?window.pageConfig.page.ptype||"index":"index",this.getIds().clsId),d=this.getIds().fid;f({clsId:c,fid:d},function(){console.log("loginCallback"),b.getLoginData(a,"isFirstLogin")})}},listenLoginStatus:function(a){var b=this;$.loginPop("login_wx_code",{terminal:"PC",businessSys:"ishare",domain:document.domain,ptype:"ishare",popup:"hidden",clsId:this.getIds().clsId,fid:this.getIds().fid},function(){b.getLoginData(a)})},getUserData:function(a){e.getCookie("cuk")&&e.get(d.coupon.querySeniority,function(b){b&&0==b.code&&a(b.data)},"")},getLoginData:function(a,b){var c=this;try{$ajax("/node/api/getUserInfo","GET").done(function(d){if(0==d.code&&d.data){if(b){g("loginResult01",{loginType:window.loginType&&window.loginType,loginResult:"1"}),trackEventLogin(d.data.userId),trackEvent("SE001","loginResult","query",{loginResult:"1",failMsg:"",loginType:window.loginType&&window.loginType});var f=window.pageConfig&&window.pageConfig.page||{};"detail"!=f.type&&window.location.reload()}if($(".loginRedPacket-dialog").hide(),a&&"function"==typeof a){a(d.data);try{window.pageConfig.params.isVip=d.data.isVip,window.pageConfig.page.uid=d.data.userId}catch(i){}}try{var j={uid:d.data.userId,isVip:d.data.isVip,tel:d.data.mobile};e.setCookieWithExpPath("ui",JSON.stringify(j),18e5,"/"),e.setCookieWithExpPath("userId",d.data.userId,18e5,"/")}catch(k){}}else g("loginResult01",{loginType:window.loginType&&window.loginType,loginResult:"0"}),c.ishareLogout();h.init()})}catch(d){console.log(d)}},ishareLogout:function(){$.ajax({url:d.user.loginOut,type:"GET",headers:{"cache-control":"no-cache",Pragma:"no-cache",isharejsid:e.getLoginSessionId()},contentType:"application/json; charset=utf-8",dataType:"json",cache:!1,data:null,success:function(a){console.log("loginOut:",a),0==a.code?(iask_web.logout(),window.location.reload()):$.toast({text:a.message,delay:3e3})}}),e.delCookie("cuk","/",".sina.com.cn"),e.delCookie("cuk","/",".iask.com.cn"),e.delCookie("cuk","/",".iask.com"),e.delCookie("cuk","/"),e.delCookie("sid","/",".iask.sina.com.cn"),e.delCookie("sid","/",".iask.com.cn"),e.delCookie("sid","/",".sina.com.cn"),e.delCookie("sid","/",".ishare.iask.com.cn"),e.delCookie("sid","/",".office.iask.com"),e.delCookie("sid_ishare","/",".iask.sina.com.cn"),e.delCookie("sid_ishare","/",".iask.com.cn"),e.delCookie("sid_ishare","/",".sina.com.cn"),e.delCookie("sid_ishare","/",".ishare.iask.com.cn"),e.delCookie("userId","/"),e.delCookie("_1st_l","/"),e.delCookie("ui","/")}}}),define("dist/application/login",["dist/application/method","dist/application/loginOperationLogic","dist/cmd-lib/jqueryMd5","dist/application/api","dist/application/urlConfig","dist/common/bindphone","dist/cmd-lib/myDialog","dist/cmd-lib/toast"],function(a,b,c){function d(a,b){trackEvent("NE006","modelView","view",{moduleID:"login",moduleName:"登录弹窗"});var c=$("#login-dialog");$("#dialog-box").dialog({html:c.html(),closeOnClickModal:!1}).open(g(a,b))}function e(a,b){trackEvent("NE006","modelView","view",{moduleID:"login",moduleName:"登录弹窗"});var c=$("#tourist-purchase-dialog");$("#dialog-box").dialog({html:c.html(),closeOnClickModal:!1}).open(g(a,b))}function f(a,b){var c=$("#tourist-login").html();$(".carding-info-bottom.unloginStatus .qrWrap").html(c),$("#tourist-login").remove(),h(a.cid,a.fid,"",!0,b)}var g=(a("dist/application/method"),a("dist/application/loginOperationLogic").loginInit),h=a("dist/application/loginOperationLogic").getLoginQrcode;return a("dist/cmd-lib/myDialog"),a("dist/cmd-lib/toast"),{showLoginDialog:d,showTouristPurchaseDialog:e,showTouristLogin:f}}),define("dist/application/loginOperationLogic",["dist/cmd-lib/jqueryMd5","dist/application/api","dist/application/urlConfig","dist/application/method","dist/common/bindphone","dist/application/api","dist/application/method"],function(a,b,c){function d(){$(".common-bgMask").hide(),$(".detail-bg-mask").hide(),$("#dialog-box").hide(),clearInterval(B),trackEvent("NE002","normalClick ","click",{domID:"closeLogin",domName:"登录页关闭"})}function e(a,b,c){b?"verificationCode-login"==a?($(".login-content .verificationCode-login .errortip .error-tip").text(c),$(".login-content .verificationCode-login .errortip").show()):"password-login"==a&&($(".login-content .password-login .errortip .error-tip").text(c),$(".login-content .password-login .errortip").show()):"verificationCode-login"==a?($(".login-content .verificationCode-login .errortip .error-tip").text(""),$(".login-content .verificationCode-login .errortip").hide()):"password-login"==a&&($(".login-content .password-login .errortip .error-tip").text(""),$(".login-content .password-login .errortip").hide())}function f(a,b,c,d,e){$.ajax({url:r.user.getLoginQrcode,type:"POST",data:JSON.stringify({cid:a||"",site:u.site,fid:b||"",sceneId:x,domain:encodeURIComponent(document.domain)}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(b){"0"==b.code?(l(!1),C=b.data&&b.data.expires_in,x=b.data&&b.data.sceneId,m(),d&&(D=e),d||c?($(".tourist-login .qrcode-default").hide(),$(".tourist-login #login-qr").attr("src",b.data.url),$(".tourist-login #login-qr").show()):($(".login-content .qrcode-default").hide(),$(".login-content #login-qr").attr("src",b.data.url),$(".login-content #login-qr").show()),B=setInterval(function(){i(a)},4e3)):(clearInterval(B),$.toast({text:b.message,delay:3e3}))},error:function(a){$.toast({text:a.message,delay:3e3})}})}function g(a,b,c){$.ajax({url:r.user.thirdLoginRedirect,type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({thirdType:c,code:a,businessSys:"ishare",terminal:"pc",site:u.site}),dataType:"json",success:function(a){"0"==a.code?(w.close(),q(a.data)):($.toast({text:a.message,delay:3e3}),w.close())},error:function(a){w.close(),$.toast({text:a.message,delay:3e3})}})}function h(a,b,c,d,f,g){$.ajax({url:r.user.loginByPsodOrVerCode,type:"POST",data:JSON.stringify({loginType:a,mobile:b,nationCode:c,smsId:d,checkCode:f,password:$.md5(g),terminal:"pc",site:u.site}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){"0"==a.code?q(a.data):f?e("verificationCode-login",!0,a.message):e("password-login",!0,a.message)},error:function(a){$.toast({text:a.message,delay:3e3})}})}function i(a,b){$.ajax({url:r.user.loginByWeChat,type:"POST",data:JSON.stringify({sceneId:x,terminal:"pc",site:u.site,cid:a,fid:b||"1816",domain:encodeURIComponent(document.domain)}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){"0"==a.code?(clearInterval(B),q(a.data)):"411046"!=a.code&&(clearInterval(B),$.toast({text:a.message,delay:3e3}))},error:function(a){$.toast({text:a.message,delay:3e3})}})}function j(a){var b=a,c=1,d=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname,e=window.location.href,f=d+"/login-middle.html?clientCode="+b+"&redirectUrl="+encodeURIComponent(e),g=d+r.user.thirdCodelogin+"?clientCode="+b+"&channel="+c+"&terminal=pc&businessSys=ishare&location="+encodeURIComponent(f);k(g)}function k(a){var b=585,c=525,d=(window.screen.availHeight-30-c)/2,e=(window.screen.availWidth-10-b)/2,f="height="+c+",width="+b+",top="+d+",left="+e+",toolbar=no, menubar=no, scrollbars=no, status=no, location=yes, resizable=yes";w=window.open(a,"_parent",f)}function l(a){a?($(".login-qrContent .login-qr-invalidtip").show(),$(".login-qrContent .qr-invalidtip").show(),$(".login-qrContent .qr-refresh").show()):($(".login-qrContent .login-qr-invalidtip").hide(),$(".login-qrContent .qr-invalidtip").hide(),$(".login-qrContent .qr-refresh").hide())}function m(){0>=C?(clearTimeout(A),clearInterval(B),$(".login-content .qrcode-default").hide(),l(!0)):(C--,A=setTimeout(m,1e3))}function n(a,b,c,d){$.ajax({url:r.user.sendSms,type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({mobile:y,nationCode:$(".login-content .verificationCode-login .phone-num .add").text().replace(/\+/,"").trim(),businessCode:z,terminal:"pc",appId:a,randstr:b,ticket:c,onOff:d}),dataType:"json",success:function(a){if("0"==a.code){v=a.data.smsId;var b=$(".login-content .getVerificationCode");b.attr("data-authenticationCodeType",1);var c=null,d=60;!function e(){0>=d?(clearTimeout(c),b.text("重新获取验证码"),b.css({fontSize:"13px",color:"#fff",borderColor:"#eee"}),b.attr("data-authenticationCodeType",2)):(b.text(d--),b.css({color:"#999999",backgroundColor:"#E9E8E5",borderColor:"#eee"}),c=setTimeout(e,1e3))}()}else"411015"==a.code?t(n):"411033"==a.code?$.toast({text:"图形验证码错误",delay:3e3}):$.toast({text:a.message,delay:3e3})},error:function(a){$.toast({text:a.message,delay:3e3})}})}function o(){$.ajax({url:r.user.dictionaryData.replace("$code","sceneSwitch"),type:"GET",async:!1,contentType:"application/json; charset=utf-8",dataType:"json",cache:!1,success:function(a){console.log(a);var b=[];0==a.code&&a.data&&a.data.length&&$.each(a.data,function(a,c){b.push(c.pcode)}),-1!=b.indexOf("PC-M-Login")?($(".login-redpacket").show(),$(".login-type-list").css("margin-top","21px")):($(".login-redpacket").hide(),$(".login-type-list").removeAttr("style"))}})}function p(a,b){D=b,E=a.clsId,F=a.fid,f(a.clsId,a.fid),o()}function q(a){var b=loginTypeList.type;window.loginType=b,s.setCookieWithExpPath("cuk",a.access_token,1e3*a.expires_in,"/"),s.setCookieWithExpPath("loginType",b,1e3*a.expires_in,"/"),$.ajaxSetup({headers:{Authrization:s.getCookie("cuk")}}),D&&D(),d()}a("dist/cmd-lib/jqueryMd5");var r=a("dist/application/api"),s=a("dist/application/method"),t=a("dist/common/bindphone").showCaptcha,u=a("dist/application/urlConfig"),v="",w="",x="",y="",z="",A=null,B=null,C="",D="",E="",F="";return loginTypeList={type:"wechat",values:{0:"wechat",1:"qq",2:"weibo",3:"phoneCode",4:"phonePw"}},$("#dialog-box").on("click",".close-btn",function(a){s.delCookie("download-qqweibo","/"),d()}),$(document).on("click",".tourist-purchase-dialog .tabs .tab",function(a){var b=$(this).attr("data-type");$(" .tourist-purchase-dialog .tabs .tab").removeClass("tab-active"),$(this).addClass("tab-active"),"tourist-purchase"==b&&(trackEvent("NE006","modelView","view",{moduleID:"noLgFPayCon",moduleName:"免登录资料支付弹窗"}),$(".tourist-purchase-dialog .login-content").hide(),$(".tourist-purchase-dialog .tourist-purchase-content").show()),"login-purchase"==b&&(trackEvent("NE006","modelView","view",{moduleID:"login",moduleName:"登录弹窗"}),$(".tourist-purchase-dialog .tourist-purchase-content").hide(),$(".tourist-purchase-dialog .login-content").show())}),$(document).on("click",".login-content .login-type-list .login-type-weixin .weixin-icon",function(a){$(".login-content .verificationCode-login").hide(),$(" .login-content .password-login").hide(),$(".login-content .weixin-login").show(),loginTypeList.type=loginTypeList.values[0]}),$(document).on("click",".login-content .login-type-list .login-type-verificationCode",function(a){$(".login-content .password-login").hide(),$(".login-content .weixin-login").hide(),$(".login-content .verificationCode-login").show(),loginTypeList.type=loginTypeList.values[3],trackEvent("NE002","normalClick","click",{domID:"mobileLogin",domName:"登录页短信验证码登录"})}),$(document).on("click",".login-content .login-type-list .login-type-password",function(a){$(".login-content .weixin-login").hide(),$(".login-content .verificationCode-login").hide(),$(".login-content .password-login").show(),loginTypeList.type=loginTypeList.values[4],trackEvent("NE002","normalClick","click",{domID:"pwLogin",domName:"登录页密码登录"})}),$(document).on("click",".login-content  .login-type-list .login-type",function(){var a=$(this).attr("data-logintype");a&&(j(a),"qq"==a&&(loginTypeList.type=loginTypeList.values[1],trackEvent("NE002","normalClick","click",{domID:"qqLogin",domName:"登录页QQ登录"})),"weibo"==a&&(loginTypeList.type=loginTypeList.values[2],trackEvent("NE002","normalClick","click",{domID:"weiboLogin",domName:"登录页微博登录"})))}),$(document).on("click",".login-content .login-btn",function(a){var b=$(this).attr("data-logintype"),c="",d="";if("verificationCode"==b){c=$(".login-content .verificationCode-login .phone-num").text().replace(/\+/,"").trim();var f=$(".login-content .verificationCode-login .verification-code").val();return d=$(".login-content .verificationCode-login .telphone").val().trim(),s.testPhone(d)||"86"!=c?!f||f&&4!==f.length?void e("verificationCode-login",!0,"验证码错误"):(e("verificationCode-login",!1,""),h("codeLogin",d,c,v,f,""),void trackEvent("NE002","normalClick","click",{domID:"login",domName:"登录页登录按钮"})):void e("verificationCode-login",!0,"手机号错误")}if("password"==b){c=$(".login-content .password-login .phone-num .add").text().replace(/\+/,"").trim();var g=$(".login-content .password-login .password .login-password:visible").val().trim();return d=$(".login-content .password-login .telphone").val().trim(),s.testPhone(d)||86!=c?(h("ppLogin",d,c,"","",g),void trackEvent("NE002","normalClick","click",{domID:"login",domName:"登录页登录按钮"})):void e("password-login",!0,"手机号错误")}}),$(document).on("click",".qr-refresh",function(a){f(E,F,!0)}),$(document).on("click",".login-content .getVerificationCode",function(a){var b=$(this).attr("data-authenticationCodeType"),c=$(".login-content .verificationCode-login .input-mobile .telphone").val(),d=$(".login-content .verificationCode-login .phone-num .add").text().replace(/\+/,"").trim();if("86"==d){if(!s.testPhone(c))return void e("verificationCode-login",!0,"手机号错误");e("verificationCode-login",!1,""),(0==b||2==b)&&(z=4,n(),trackEvent("NE002","normalClick","click",{domID:"getValidateCode",domName:"登录页获取验证码"}))}else(0==b||2==b)&&(z=4,n(),trackEvent("NE002","normalClick","click",{domID:"getValidateCode",domName:"登录页获取验证码"}))}),$(document).on("input",".login-content .verificationCode-login .telphone",function(a){y=$(this).val();var b=$(".login-content .verificationCode-login .verification-code").val(),c=$(".login-content .verificationCode-login .phone-num .add").text().replace(/\+/,"").trim();if(y.length>11&&$(".login-content .telphone").val(y.slice(0,11)),"86"==c)if(s.testPhone(y.slice(0,11)))e("verificationCode-login",!1,""),$(".login-content .getVerificationCode").addClass("getVerificationCode-active"),b&&b.length>=4&&($(".login-content .verificationCode-login .login-btn").removeClass("login-btn-disable"),$(".login-content .verificationCode-login .login-btn").addClass("login-btn-active"));else{if(y&&y.length>=11)return void e("verificationCode-login",!0,"手机号错误");$(".login-content .getVerificationCode").removeClass("getVerificationCode-active"),$(".login-content .verificationCode-login .login-btn").removeClass("login-btn-active"),$(".login-content .verificationCode-login .login-btn").addClass("login-btn-disable")}else y?($(".login-content .getVerificationCode").addClass("getVerificationCode-active"),b&&b.length>=4&&($(".login-content .verificationCode-login .login-btn").removeClass("login-btn-disable"),$(".login-content .verificationCode-login .login-btn").addClass("login-btn-active"))):($(".login-contentx .getVerificationCode").removeClass("getVerificationCode-active"),$(".login-content .verificationCode-login .login-btn").removeClass("login-btn-active"),$(".login-content .verificationCode-login .login-btn").addClass("login-btn-disable"))}),$(document).on("input",".login-content .verification-code",function(a){var b=$(".login-content .verificationCode-login .phone-num .add").text().replace(/\+/,"").trim(),c=$(".login-content .verificationCode-login .telphone").val(),d=$(this).val();d.length>4&&$(".login-content .verification-code").val(d.slice(0,4)),d&&d.length>=4&&e("verificationCode-login",!1,""),"86"==b?d&&d.length>=4&&s.testPhone(c)?($(".login-content .verificationCode-login .login-btn").removeClass("login-btn-disable"),$(".login-content .verificationCode-login .login-btn").addClass("login-btn-active")):($(".login-content .verificationCode-login .login-btn").removeClass("login-btn-active"),$(".login-content .verificationCode-login .login-btn").addClass("login-btn-disable")):d&&d.length>=4&&c?($(".login-content .verificationCode-login .login-btn").removeClass("login-btn-disable"),$(".login-content .verificationCode-login .login-btn").addClass("login-btn-active")):($(".login-content .verificationCode-login .login-btn").removeClass("login-btn-active"),$(".login-content .verificationCode-login .login-btn").addClass("login-btn-disable"))}),$(document).on("input",".login-content .password-login .telphone",function(){var a=$(".login-content .password-login .phone-num .add").text().replace(/\+/,"").trim();if(y=$(this).val(),y.length>11&&$(".login-content.password-login .telphone").val(y.slice(0,11)),"86"==a)if(s.testPhone(y.slice(0,11))){e("password-login",!1,"");var b=$(".login-content .password-login .password .login-password:visible").val();b&&b.length>=6&&b&&b.length<=8&&($(".login-content .password-login .login-btn").removeClass("login-btn-disable"),$(".login-content .password-login .login-btn").addClass("login-btn-active"))}else{if(y&&y.length>=11)return void e("password-login",!0,"手机号错误");$(".login-content .password-login .login-btn").removeClass("login-btn-active"),$(".login-content .password-login .login-btn").addClass("login-btn-disable")}else y?(e("password-login",!1,""),b&&b.length>=6&&b&&b.length<=8&&($(".login-content .password-login .login-btn").removeClass("login-btn-disable"),$(".login-content .password-login .login-btn").addClass("login-btn-active"))):($(".login-content .password-login .login-btn").removeClass("login-btn-active"),$(".login-content .password-login .login-btn").addClass("login-btn-disable"))}),$(document).on("input",".login-content .password-login .login-password",function(){var a=$(".login-content .password-login .phone-num .add").text().replace(/\+/,"").trim(),b=$(this).val(),c=$(".login-content .password-login .telphone").val();b&&b.length>0?$(".login-content .password-login .password .eye").show():$(".login-content .password-login .password .close-eye").hide(),b.length>16&&$(".login-content  .password-login .login-password").val(b.slice(0,16)),"86"==a?s.testPhone(c)&&b?($(".login-content .password-login .login-btn").removeClass("login-btn-disable"),$(".login-content .password-login .login-btn").addClass("login-btn-active")):($(".login-content .password-login .login-btn").removeClass("login-btn-active"),$(".login-content .password-login .login-btn").addClass("login-btn-disable")):c&&b?($(".login-content .password-login .login-btn").removeClass("login-btn-disable"),$(".login-content .password-login .login-btn").addClass("login-btn-active")):($(".login-content .password-login .login-btn").removeClass("login-btn-active"),$(".login-content .password-login .login-btn").addClass("login-btn-disable"))}),$(document).on("click",".login-content .password-login .close-eye",function(){var a=$(".login-content .password-login .text-input");a.hide(),$(".login-content .password-login .password-input").val(a.val()),$(".login-content .password-login .password-input").show(),$(".login-content .password-login .password .close-eye").hide(),$(".login-content .password-login .password .eye").show()}),$(document).on("click",".login-content .password-login .eye",function(){var a=$(".login-content .password-login .password-input");a.hide(),$(".login-content .password-login .text-input").val(a.val()),$(".login-content .password-login .text-input").show(),$(".login-content .password-login .password .eye").hide(),$(".login-content .password-login .password .close-eye").show()}),$(document).on("click",".login-dialog .close-btn",function(a){d()}),$(document).on("click",".login-content .phone-choice",function(a){return $(this).addClass("phone-choice-show"),$(".login-content .phone-more").show(),!1}),$(document).on("click",".login-content .phone-more .phone-ele",function(a){var b=$(this).find(".number-con em").text();return $(".login-content .phone-choice .phone-num .add").text("+"+b),$(".login-content.phone-choice").removeClass("phone-choice-show"),$(".login-content.phone-more").hide(),$(".login-content input").val(""),$(".login-content .getVerificationCode").removeClass("getVerificationCode-active"),$(".login-content .login-btn").removeClass("login-btn-active"),$(".login-content .login-btn").addClass("login-btn-disable"),e("verificationCode-login",!1,""),e("password-login",!1,""),!1}),$(document).on("click",".login-content",function(a){$(".login-content .phone-choice").removeClass("phone-choice-show"),$(".login-content .phone-more").hide()}),$(document).on("click",".login-content",function(a){$(".login-content .phone-choice").removeClass("phone-choice-show"),$(".login-content .phone-more").hide()}),window.clientDefineBindThirdUser=g,{loginInit:p,getLoginQrcode:f}}),define("dist/cmd-lib/jqueryMd5",[],function(a,b,c){!function(a){var b=function(a,b){return a<<b|a>>>32-b},c=function(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f},d=function(a,b,c){return a&b|~a&c},e=function(a,b,c){return a&c|b&~c},f=function(a,b,c){return a^b^c},g=function(a,b,c){return b^(a|~c)},h=function(a,e,f,g,h,i,j){return a=c(a,c(c(d(e,f,g),h),j)),c(b(a,i),e)},i=function(a,d,f,g,h,i,j){return a=c(a,c(c(e(d,f,g),h),j)),c(b(a,i),d)},j=function(a,d,e,g,h,i,j){return a=c(a,c(c(f(d,e,g),h),j)),c(b(a,i),d)},k=function(a,d,e,f,h,i,j){return a=c(a,c(c(g(d,e,f),h),j)),c(b(a,i),d)},l=function(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g},m=function(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d},n=function(a){a=a.replace(/\x0d\x0a/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b};a.extend({md5:function(a){var b,d,e,f,g,o,p,q,r,s=Array(),t=7,u=12,v=17,w=22,x=5,y=9,z=14,A=20,B=4,C=11,D=16,E=23,F=6,G=10,H=15,I=21;for(a=n(a),s=l(a),o=1732584193,p=4023233417,q=2562383102,r=271733878,b=0;b<s.length;b+=16)d=o,e=p,f=q,g=r,o=h(o,p,q,r,s[b+0],t,3614090360),r=h(r,o,p,q,s[b+1],u,3905402710),q=h(q,r,o,p,s[b+2],v,606105819),p=h(p,q,r,o,s[b+3],w,3250441966),o=h(o,p,q,r,s[b+4],t,4118548399),r=h(r,o,p,q,s[b+5],u,1200080426),q=h(q,r,o,p,s[b+6],v,2821735955),p=h(p,q,r,o,s[b+7],w,4249261313),o=h(o,p,q,r,s[b+8],t,1770035416),r=h(r,o,p,q,s[b+9],u,2336552879),q=h(q,r,o,p,s[b+10],v,4294925233),p=h(p,q,r,o,s[b+11],w,2304563134),o=h(o,p,q,r,s[b+12],t,1804603682),r=h(r,o,p,q,s[b+13],u,4254626195),q=h(q,r,o,p,s[b+14],v,2792965006),p=h(p,q,r,o,s[b+15],w,1236535329),o=i(o,p,q,r,s[b+1],x,4129170786),r=i(r,o,p,q,s[b+6],y,3225465664),q=i(q,r,o,p,s[b+11],z,643717713),p=i(p,q,r,o,s[b+0],A,3921069994),o=i(o,p,q,r,s[b+5],x,3593408605),r=i(r,o,p,q,s[b+10],y,38016083),q=i(q,r,o,p,s[b+15],z,3634488961),p=i(p,q,r,o,s[b+4],A,3889429448),o=i(o,p,q,r,s[b+9],x,568446438),r=i(r,o,p,q,s[b+14],y,3275163606),q=i(q,r,o,p,s[b+3],z,4107603335),p=i(p,q,r,o,s[b+8],A,1163531501),o=i(o,p,q,r,s[b+13],x,2850285829),r=i(r,o,p,q,s[b+2],y,4243563512),q=i(q,r,o,p,s[b+7],z,1735328473),p=i(p,q,r,o,s[b+12],A,2368359562),o=j(o,p,q,r,s[b+5],B,4294588738),r=j(r,o,p,q,s[b+8],C,2272392833),q=j(q,r,o,p,s[b+11],D,1839030562),p=j(p,q,r,o,s[b+14],E,4259657740),o=j(o,p,q,r,s[b+1],B,2763975236),r=j(r,o,p,q,s[b+4],C,1272893353),q=j(q,r,o,p,s[b+7],D,4139469664),p=j(p,q,r,o,s[b+10],E,3200236656),o=j(o,p,q,r,s[b+13],B,681279174),r=j(r,o,p,q,s[b+0],C,3936430074),q=j(q,r,o,p,s[b+3],D,3572445317),p=j(p,q,r,o,s[b+6],E,76029189),o=j(o,p,q,r,s[b+9],B,3654602809),r=j(r,o,p,q,s[b+12],C,3873151461),q=j(q,r,o,p,s[b+15],D,530742520),p=j(p,q,r,o,s[b+2],E,3299628645),o=k(o,p,q,r,s[b+0],F,4096336452),r=k(r,o,p,q,s[b+7],G,1126891415),q=k(q,r,o,p,s[b+14],H,2878612391),p=k(p,q,r,o,s[b+5],I,4237533241),o=k(o,p,q,r,s[b+12],F,1700485571),r=k(r,o,p,q,s[b+3],G,2399980690),q=k(q,r,o,p,s[b+10],H,4293915773),p=k(p,q,r,o,s[b+1],I,2240044497),o=k(o,p,q,r,s[b+8],F,1873313359),r=k(r,o,p,q,s[b+15],G,4264355552),q=k(q,r,o,p,s[b+6],H,2734768916),p=k(p,q,r,o,s[b+13],I,1309151649),o=k(o,p,q,r,s[b+4],F,4149444226),r=k(r,o,p,q,s[b+11],G,3174756917),q=k(q,r,o,p,s[b+2],H,718787259),p=k(p,q,r,o,s[b+9],I,3951481745),o=c(o,d),p=c(p,e),q=c(q,f),r=c(r,g);var J=m(o)+m(p)+m(q)+m(r);return J.toLowerCase()}})}(jQuery)}),define("dist/common/bindphone",["dist/application/api","dist/application/urlConfig","dist/application/method"],function(a,b,c){function d(a){var b=a.replace(/\D/g,"").substring(0,11),c=b.length;return c>3&&8>c?b=b.replace(/^(...)/g,"$1 "):c>=8&&(b=b.replace(/^(...)(....)/g,"$1 $2 ")),b}function e(a){if("1"==a){var b=$("#mobile").val();$(".carding-error").hide(),b?($("#mobile").val(d(b)),$(".btn-binding-code").removeClass("btn-code-no")):$(".btn-binding-code").addClass("btn-code-no")}}var f=a("dist/application/api"),g=a("dist/application/method");$(function(){var a=$(".phone-choice"),b=($("#ip-page-type").val(),$("#ip-checkCode")),c=$("#mobile"),d=($(".login-input-item.img-code-item"),$(".carding-error span"));a.find(".phone-num").click(function(a){a.stopPropagation(),$(this).siblings(".phone-more").is(":hidden")?($(this).parent().addClass("phone-choice-show"),$(this).siblings(".phone-more").show()):($(this).parent().removeClass("phone-choice-show"),$(this).siblings(".phone-more").hide())}),$(".phone-more").find("a").click(function(){var b=$(this).find(".number-con").find("em").text();a.find(".phone-num").find("em").text(b),a.removeClass("phone-choice-show"),a.find(".phone-more").hide()}),$(document).on("keyup","#mobile",function(){e(1)}),$(document).keyup(function(a){13==a.keyCode&&$(".btn-phone-login").trigger("click")}),$(".btn-bind").click(function(){function a(a,b,c){$.ajax({headers:{Authrization:g.getCookie("cuk")},url:f.user.userBindMobile,type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({terminal:"pc",mobile:a,nationCode:$(".phone-choice .phone-num em").text(),smsId:b,checkCode:c}),dataType:"json",success:function(a){"0"==a.code?($(".binging-main").hide(),$(".binging-success").show()):(d.text(a.message).parent().show(),$(".carding-error").show())},error:function(a){console.log("userBindMobile:",a)}})}if(!$(this).hasClass("btn-code-no")){var e=c.val().replace(/\s/g,""),h=b.val(),i=$(".phone-num em").text();if(/^\s*$/g.test(e))return void d.text("请输入手机号码!").parent().show();if(/^\s*$/g.test(h))return void d.text("请输入验证码!").parent().show();({nationCode:i,mobile:e,smsId:b.attr("smsId"),checkCode:h});a(e,b.attr("smsId"),h)}});var h=function(a,e,g,j){var k=$(".binging-main .yz-link");if(!$(k).hasClass("btn-code-no")){var l=c.val().replace(/\s/g,"");if(/^\s*$/g.test(l))return void d.text("请输入手机号码!").parent().show();d.parent().hide();var m=JSON.stringify({mobile:l,nationCode:$(".phone-choice .phone-num em").text(),businessCode:$(k).siblings('input[name="businessCode"]').val(),terminal:"pc",appId:a,randstr:e,ticket:g,onOff:j});$.ajax({type:"POST",url:f.user.sendSms,contentType:"application/json;charset=utf-8",dataType:"json",data:m,success:function(a){if(a)if("0"==a.code){b.removeAttr("smsId"),b.attr("smsId",a.data.smsId);var c=$(k).siblings(".yz-time");c.addClass("btn-code-no"),c.show(),$(k).hide(),$(".btn-none-bind").hide(),$(".btn-bind").show(),function e(){var a=c.text().replace(/秒后重发$/g,"");return a=/^\d+$/g.test(a)?Number(a):60,a&&a>=0&&c.text(--a+"秒后重发"),0>=a?(c.text("60秒后重发").hide(),void $(k).text("重获验证码").show()):void setTimeout(e,1e3)}()}else"411015"==a.code?i(h):"411033"==a.code?d.text("图形验证码错误").parent().show():d.text(a.message).parent().show();else d.text("发送短信失败").parent().show()}})}};$(".binging-main").delegate(".yz-link","click",function(){h("","","","")})});var h,i=function(a){var b="2071307690";h||(h=new TencentCaptcha(b,j,{bizState:a})),h.show()},j=function(a){0===a.ret&&a.bizState(a.appid,a.randstr,a.ticket,1)};return{showCaptcha:i}});var _hmt=_hmt||[];define("dist/common/baidu-statistics",["dist/application/method"],function(a,b,c){function d(a){if(a){_hmt.push(["_setAccount",a]);for(var b in _hmt.cmd){if(b==a)return;try{!function(){var b=document.createElement("script");b.src="https://hm.baidu.com/hm.js?"+a;var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}()}catch(c){console.error(a,c)}}}}function e(a,b){var c=h[a];"fileDetailPageView"==a&&(b=c),"payFileResult"==a&&(b=$.extend(c,{payresult:b.payresult,orderid:b.orderNo,orderpaytype:b.orderpaytype})),_hmt.push(["_trackCustomEvent",a,b]),console.log("百度统计:",a,b)}var f=a("dist/application/method"),g=window.pageConfig&&window.pageConfig.params,h={fileDetailPageView:{loginstatus:f.getCookie("cuk")?1:0,userid:window.pageConfig&&window.pageConfig.userId||"",pageid:"PC-M-FD",fileid:g&&g.g_fileId,filecategoryname:g&&g.classidName1+"||"+g&&g.classidName2+"||"+g&&g.classidName3,filepaytype:g&&g.productType||"",filecootype:"",fileformat:g&&g.file_format||""},payFileResult:{loginstatus:f.getCookie("cuk")?1:0,userid:window.pageConfig&&window.pageConfig.userId||"",pageid:"PC-M-FD",pagename:"",payresult:"",orderid:"",orderpaytype:"",orderpayprice:"",fileid:"",filename:"",fileprice:"",filecategoryname:"",fileformat:"",filecootype:"",fileuploaderid:""},payVipResult:{loginstatus:f.getCookie("cuk")?1:0,userid:"",pageid:"PC-M-FD",pagename:"",payresult:"",orderid:"",orderpaytype:"",orderpayprice:"",fileid:"",filename:"",fileprice:"",filecategoryname:"",fileformat:"",filecootype:"",fileuploaderid:""},loginResult:{pagename:$("#ip-page-id").val(),pageid:$("#ip-page-name").val(),loginType:"",userid:"",loginResult:""}};return{initBaiduStatistics:d,handleBaiduStatisticsPush:e}}),define("dist/common/message-center/index",["dist/application/api","dist/application/urlConfig","dist/application/method"],function(a,b,c){
var d=a("dist/application/api"),e=a("dist/application/method"),f=a("dist/common/message-center/dropdownItem.html");return{isShowMessagePopup:!1,isInitOneMessage:!1,isMoreInitToLogin:!1,init:function(){var a=this;$(function(){if(e.getCookie("cuk")){if(a.isMoreInitToLogin)return;a.isMoreInitToLogin=!0,$(".jsGlobalMessageCenter").show(),a.initMessage(),a.bindEvent()}})},bindEvent:function(){var a=this,b=$(".jsMessageDropdown");$(".jsMessageOpenPopup").off("click").on("click",function(c){c.stopPropagation(),a.isInitOneMessage&&(a.isInitOneMessage=!1,a.saveInitCloseStatus()),a.isShowMessagePopup=!a.isShowMessagePopup,a.isShowMessagePopup?a.findRewardRecordList(10):b.hide()}),$(".jsMessageClosePopup").off("click").on("click",function(c){c.stopPropagation(),a.isInitOneMessage?(a.isInitOneMessage=!1,a.saveInitCloseStatus()):a.isShowMessagePopup=!1,b.hide()})},initMessage:function(){var a=this.getInitCloseStatus();"1"!==a&&(this.isInitOneMessage=!0,this.findRewardRecordList(1,this.isInitOneMessage))},findRewardRecordList:function(a,b){var c=this,f={limit:a,site:4,terminal:0};e.customPost(d.task.taskNotifyList,f,function(a){var d=[];a&&"0"===a.code&&a.data&&(d=a.data),c.renderDropdown(d,b)},function(){c.renderDropdown([],b)})},renderDropdown:function(a,b){var c=a.length;if(!(b&&0>=c)){var d=template.compile(f)({dataList:a,showDate:!b,formatDate:e.formatDateV2});$(".jsMessageDropdownList").html(d),$(".jsMessageDropdown").show()}},saveInitCloseStatus:function(){e.setCookieWithExpPath("message_center",1,864e5,"/")},getInitCloseStatus:function(){return e.getCookie("message_center")}}}),define("dist/common/message-center/dropdownItem.html",[],'{{if dataList.length }}\n    {{each dataList}}\n    <div class="dropdown-item">\n        {{if showDate}}\n        <div class="msg-date">{{formatDate(\'yyyy-MM-dd hh:mm:ss\',$value.createTime)}}</div>\n        {{/if}}\n        <div class="msg-content" title="{{$value.content}}">{{$value.content}}</div>\n    </div>\n    {{/each}}\n{{else}}\n<div class="dropdown-item">\n   <div class="nodata">暂无数据</div>\n</div>\n{{/if}}\n\n\n'),define("dist/detail/index",["dist/application/suspension","dist/application/urlConfig","dist/application/method","dist/application/checkLogin","dist/application/api","dist/application/login","dist/application/loginOperationLogic","dist/cmd-lib/jqueryMd5","dist/common/bindphone","dist/cmd-lib/myDialog","dist/cmd-lib/toast","dist/common/baidu-statistics","dist/common/message-center/index","dist/application/app","dist/application/element","dist/application/template","dist/application/extend","dist/common/bilogReport","dist/application/helper","dist/application/single-login","dist/cmd-lib/util","dist/detail/common","dist/common/loginType","dist/detail/handlePaidTest","dist/common/file-collect-layer/index","dist/common/file-collect-layer/fileCollect","dist/common/userActionRecordReport","dist/common/evaluate-layer/index","dist/common/evaluate-layer/evaluate"],function(a,b,c){function d(){C&&(C=C.length>12?C.slice(0,12)+"...":C),$("#search-detail-input").attr("placeholder",C||"与人沟通的十大绝招"),e(),p(),o(),k(),j(),g()}function e(){if(u.getCookie("cuk"))w.getLoginData(function(a){if(A({attrList:[{actionAttrCode:"site",actionAttrVal:z.site},{actionAttrCode:"terminal",actionAttrVal:z.terminal},{actionAttrCode:"content_type",actionAttrVal:1},{actionAttrCode:"product_type",actionAttrVal:window.pageConfig&&window.pageConfig.params.productType},{actionAttrCode:"vip",actionAttrVal:a.isVip}],userActCode:"browse"}),x.afterLogin(a),window.pageConfig.userId=a.userId,window.pageConfig.email=a.email||"",u.getCookie("download-qqweibo")){var b=window.pageConfig.params;if(u.getCookie("isPaidTest")){var c=$(".integral-con .integral-con-content").attr("desc"),d=$(".integral-con .integral-con-content").attr("price"),e={price:d,desc:c,productType:b.productType};4==e.productType&&(u.getCookie("isPaidTest","/"),r("","",e))}if("3"==b.productType)if(a&&1==a.isVip)console.log("发送邮箱");else{var f=window.pageConfig.params.g_fileId,g=window.pageConfig.params.file_format,h=window.pageConfig.params.file_title,i=v.getPageRef(f),j="?fid="+f+"&ft="+g+"&checkStatus=10&name="+encodeURIComponent(encodeURIComponent(h))+"&ref="+i;u.compatibleIESkip("/pay/vip.html"+j,!1)}else window.downLoad();u.delCookie("download-qqweibo","/")}});else{var a=window.pageConfig.params;if(("4"==a.productType||"5"==a.productType)&&"1"==a.vipDiscountFlag){var b=a.moneyPrice;$(".js-original-price").html(b);var c=(.8*a.moneyPrice).toFixed(2);$(".vip-save-money").html(c),$(".js-original-price").html(c)}}var d="/node/feedback/feedback.html?url="+encodeURIComponent(location.href);$(".user-feedback").attr("href",d);var e=$(".icon-detail-wrap");e.length&&$(window).on("scroll",function(){var a=$(this),b=a.scrollTop();b>=180?(e.addClass("icon-text-fixed"),$(".icon-text-fixed").css("left",$(".bd-wrap")[0].offsetLeft-6)):(e.removeClass("icon-text-fixed"),e.css("left","-6px"))})}function f(){var a=$(".more-nav"),b=$("#search-detail-input"),c=$(".detail-lately"),d=$(".header-cate");d.on("mouseover",function(){var a=$(".cate-menu");a.hasClass("hover")||a.addClass("hover")}),d.on("mouseleave",function(){var a=$(".cate-menu");a.hasClass("hover")&&a.removeClass("hover")}),a.on("mouseover",function(){var a=$(this);a.hasClass("hover")||$(this).addClass("hover")}),a.on("mouseleave",function(){var a=$(this);a.hasClass("hover")&&$(this).removeClass("hover")}),b.on("keyup",function(a){var b=a.keyCode;$(this).val()&&G($(this).val()),13===b&&H($(this).val())}),$(".detail-search-info .close-icon").on("click",function(a){a.stopPropagation(),$(".detail-search-info").hide()}),b.on("focus",function(){$(".detail-search-info").hide();var a=$(".lately-list"),b=a.find("li").length;return b>0?c.show():c.hide(),!0}),$(".detail-search-info").on("click",function(){var a=b.val()||b.attr("placeholder");H(a)}),$(".btn-new-search").on("click",function(){var a=b.val()||b.attr("placeholder");H(a)}),$(document).on("click",":not(.new-search)",function(a){var b=$(a.target);b.hasClass("new-input")||c.hide()}),c.on("click",function(a){a.stopPropagation()}),$("#detail-unLogin,.login-open-vip").on("click",function(){u.getCookie("cuk")||w.notifyLoginInterface(function(a){x.afterLogin(a)})}),$(".btn-exit").on("click",function(){w.ishareLogout()}),$("#search-detail-input").on("focus",function(){$(".detail-search-info").hide()}),$("#commentCheckbox").on("click",function(){$(this).find(".check-con").toggleClass("checked")}),$(".report-link").on("click",function(){u.compatibleIESkip("/node/feedback/feedback.html?url="+location.href,!0)}),$("#btn-collect").on("click",function(){var a=window.pageConfig.params;return trackEvent("NE029","fileNomalClick","click",{domID:"sucMark",domName:"收藏和取消收藏",fileID:a.g_fileId,fileName:a.file_title,saleType:a.productType}),u.getCookie("cuk")?void n($(this)):void w.notifyLoginInterface(function(a){x.afterLogin(a)})}),$(".loginOut").on("click",function(){w.ishareLogout()}),$(".detail-fixed").on("click","#searchRes",function(){var a=window.pageConfig.params.productType||"";return 3==a?!1:void i()}),$("body").on("click",".js-buy-open",function(a){var b=window.pageConfig.params.productType||"";if(3==b)return!1;var c=$(this).data("type"),d=$(this).attr("price"),e=$(this).attr("desc"),f={price:d,desc:e,productType:4};u.getCookie("cuk")?r(c,"",f):($(this).attr("loginOffer")&&u.setCookieWithExpPath("_loginOffer",$(this).attr("loginOffer"),36e5,"/"),u.setCookieWithExpPath("download-qqweibo",1,36e5,"/"),u.setCookieWithExpPath("enevt_data",c,36e5,"/"),console.log(e,d),"5"==pageConfig.params.productType&&"file"==c||"4"==pageConfig.params.productType&&d&&e?u.setCookieWithExpPath("isPaidTest",1,36e5,"/"):w.notifyLoginInterface(function(a){window.pageConfig.userId=a.userId,x.afterLogin(a,{type:c,data:a,callback:r,isPaidTest:f})}))}),$(document).on("click",".jsDetailEvaluateBtn",function(a){a.stopPropagation();var b=window.pageConfig.params.g_fileId,c=window.pageConfig.params.file_format,d=window.pageConfig.params.file_title;B.open({fid:b,title:d,format:c},!1,function(){$(".jsDetailEvaluateBtn").hide()})}),$(".js-go2FileConvert").on("click",function(){var a=$(this).attr("data-convert-type"),b="Click"+a,c=a+"导航点击";trackEvent("NE002","normalClick","click",{domID:b,domName:c});var d=z.fileConvertSite+z.fileConvertSitePath[a];u.compatibleIESkip(d,!0)})}function g(){var a=window.pageConfig.params.g_fileId;u.getCookie("cuk")&&u.customGet(t.comment.getQualifications,{fid:a},function(a){a&&"0"===a.code&&a.data&&a.data.isDf&&$(".jsDetailEvaluateBtn").show()})}function h(){function a(){$(".common-bgMask").hide(),$(".detail-bg-mask").hide(),$("#dialog-box").hide()}$(".m-reward-pop #email")&&$(".m-reward-pop #email").val(window.pageConfig.email),$(".m-reward-pop .close-btn").on("click",function(){a()}),$(".m-reward-pop .understand-btn").on("click",function(){a()}),$(".m-reward-pop .submit-btn").on("click",function(){var b=window.pageConfig.userId;if(!b)return a(),void $.toast({text:"该功能仅对VIP用户开放",delay:3e3});var c=/^[0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+){1,2}$/,d=$(".m-reward-pop .form-ipt").val(),e=$(".m-reward-pop .form-verify-tips");if(e.hide(),!c.test(d))return void e.show();var f={userId:b,fid:window.pageConfig.params.g_fileId,email:d,channelSource:4};$.ajax("/gateway/content/sendmail/findFile",{type:"POST",data:JSON.stringify(f),dataType:"json",contentType:"application/json"}).done(function(b){0==b.code?(a(),$.toast({text:"发送成功",delay:2e3})):401100==b.code?$.toast({text:"该功能仅对VIP用户开放",delay:2e3}):$.toast({text:"发送失败，请重试",delay:2e3})}).fail(function(a){$.toast({text:"发送失败，请重试",delay:2e3})})})}function i(){var a=window.pageConfig.params;trackEvent("NE029","fileNomalClick","click",{domID:"sendemail",domName:"发送邮箱",fileID:a.g_fileId,fileName:a.file_title,saleType:a.productType}),$("body,html").animate({scrollTop:$("#littleApp").offset().top-60},200),$("#dialog-box").dialog({html:$("#reward-mission-pop").html()}).open(),setTimeout(h,500)}function j(){if(u.getCookie("cuk")){var a={memberCodeList:["COPY","FREE_ADV"]};$.ajax("/gateway/rights/vip/allMemberDetail",{type:"POST",data:JSON.stringify(a),dataType:"json",contentType:"application/json"}).done(function(a){if(0==a.code){for(var b=[],c=!1,d=!1,e=!1,f=0,g=a.data.length;g>f;f++)4==a.data[f].site&&(b=a.data[f].memberPointList,c=a.data[f].isVip);if(b&&b.length)for(var h=0,i=b.length;i>h;h++){var j=b[h];"FREE_ADV"==j.code&&(d=c&&"1"==j.value),"COPY"==j.code&&(e=c&&"1"==j.value)}window.pageConfig.freeAdv=d,window.pageConfig.copy=e,d&&$(".adv-container").each(function(a,b){$(b).remove()}),e&&$(".detail-holder").each(function(a,b){$(b).remove()})}}).fail(function(a){console.error(JSON.stringify(a))})}}function k(){$.ajax({headers:{Authrization:u.getCookie("cuk")},url:t.reportBrowse.fileBrowseReportBrowse,type:"POST",data:JSON.stringify({terminal:"0",fid:window.pageConfig.params&&window.pageConfig.params.g_fileId,fileUid:window.pageConfig.page&&window.pageConfig.page.uid}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){"0"==a.code&&console.log("上报完成")}})}function l(a,b,c){$(a).focus(function(){$(this).parents(c).addClass(b)}),$(a).blur(function(){$(this).parents(c).removeClass(b)})}function m(a,b,c){$(a).hover(function(){$(this).addClass(c),$(b).fadeIn("slow")},function(){$(this).removeClass(c),$(b).fadeOut("slow")})}function n(a){$.ajax({headers:{Authrization:u.getCookie("cuk")},url:t.special.setCollect,type:"post",data:JSON.stringify({fid:window.pageConfig.params.g_fileId,source:0,site:z.site}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(b){var c=window.pageConfig.params;trackEvent("NE029","fileNomalClick","click",{domID:"sucMark",domName:a.hasClass("btn-collect-success")?"取消收藏":"收藏成功",fileID:c.g_fileId,fileName:c.file_title,saleType:c.productType}),"0"==b.code?($.toast({text:a.hasClass("btn-collect-success")?"取消收藏成功":"收藏成功"}),a.hasClass("btn-collect-success")?a.removeClass("btn-collect-success"):a.addClass("btn-collect-success")):"401002"==b.code?y.open():$.toast({text:a.hasClass("btn-collect-success")?"取消收藏失败":"收藏失败"})}})}function o(){$.ajax({headers:{Authrization:u.getCookie("cuk")},url:t.special.getCollectState,type:"get",data:{fid:window.pageConfig.params.g_fileId,uid:window.pageConfig.page.uid},contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){"0"==a.code&&(a.data.hasCollect?$("#btn-collect").addClass("btn-collect-success"):$("#btn-collect").removeClass("btn-collect-success"))}})}function p(){var a=pageConfig.access,b=u.keyMap.ishare_detail_access;if(pageConfig&&a){var c=u.getLocalData(b);!c||c.length<1?(c=[],c.push(a),u.setLocalData(b,c)):(c=q(a.fileId,c),c.unshift({fileId:a.fileId,title:a.title,format:a.format,time:(new Date).getTime()}),u.setLocalData(b,c))}}function q(a,b){for(var c=0;c<b.length;c++)if(b[c].fileId===a){b.splice(c,1);break}return 50===b.length&&b.pop(),b}function r(a,b,c){var d=window.pageConfig.params.g_fileId,e=window.pageConfig.params.file_format,f=window.pageConfig.params.file_title,g="",h=v.getPageRef(d);if(u.setCookieWithExpPath("rf",JSON.stringify({}),3e5,"/"),u.setCookieWithExp("f",JSON.stringify({fid:d,title:f,format:e}),3e5,"/"),c&&4==c.productType&&c.price)s();else if("file"===a)g="?orderNo="+d+"&checkStatus=8&referrer="+document.referrer,u.compatibleIESkip("/pay/payConfirm.html"+g,!1);else if("vip"===a)if(b&&1==b.isVip)i();else{var j=window.pageConfig.params,k=j.productType,l=j.userFileType,m=j.userFilePrice;g="4"==k?"?fid="+d+"&ft="+e+"&checkStatus=10&name="+encodeURIComponent(encodeURIComponent(f))+"&ref="+h+"&productType="+k+"&userFileType="+l+"&userFilePrice="+m:"?fid="+d+"&ft="+e+"&checkStatus=10&name="+encodeURIComponent(encodeURIComponent(f))+"&ref="+h,u.compatibleIESkip("/pay/vip.html"+g,!1)}else"privilege"===a&&(g="?fid="+d+"&ft="+e+"&checkStatus=13&name="+encodeURIComponent(encodeURIComponent(f))+"&ref="+h,u.compatibleIESkip("/pay/privilege.html"+g,!1))}function s(){var a=window.pageConfig.params.g_fileId,b={goodsId:a,goodsType:1,sourceMode:0,channelSource:4,host:window.location.origin,channel:u.getCookie("channel"),isVisitor:u.getCookie("cuk")?0:1,returnPayment:!1,ref:v.getPageRef(window.pageConfig.params.g_fileId),referrer:document.referrer||document.URL};console.log(JSON.stringify(b)),$.ajax({url:t.order.createOrderInfo,type:"POST",data:JSON.stringify(b),contentType:"application/json; charset=utf-8",dataType:"json",success:function(b){if(b&&"0"==b.code){console.log("下单返回的数据："+b),trackEvent("SE033","createOrder","query",{orderID:b.data.orderNo,goodsID:a,goodsType:1,prePageFileID:u.getParam("fid")||""});var c=b.data.orderNo;u.compatibleIESkip("/pay/payQr.html?type=8&orderNo="+c+"&fid="+a)}else $.toast({text:res.message,delay:3e3})}})}a("dist/application/suspension");var t=a("dist/application/api"),u=a("dist/application/method"),v=a("dist/cmd-lib/util"),w=a("dist/application/checkLogin"),x=a("dist/detail/common"),y=a("dist/common/file-collect-layer/index"),z=a("dist/application/urlConfig"),A=a("dist/common/userActionRecordReport").Browse10s,B=a("dist/common/evaluate-layer/index"),C=window.pageConfig&&window.pageConfig.page&&window.pageConfig.page.fileName,D=window.pageConfig.page,E=window.pageConfig.params;trackEvent("NE030","pageTypeView","page",{pageID:"FD",pageName:"资料详情"});var F=(new Date).getTime();$(window).on("unload",function(){var a=(new Date).getTime();trackEvent("SE050","pageDuration","page",{pageID:"FD",pageName:"详情页",startTime:F,endTime:a,duration:a-F},!0)}),trackEvent("SE002","fileDetailPageView","page",{fileID:E.g_fileId,fileName:D.fileName,salePrice:E.productPrice,saleType:E.productType,fileCategoryID:E.classid1+"||"+E.classid2+"||"+E.classid3,fileCategoryName:E.classidName1+"||"+E.classidName2+"||"+E.classidName3}),d(),f(),$(function(){function a(){$(".coupon-info-top").on("click",".btn-no-user",function(){$(".coupon-info-top").hide(),localStorage.setItem("firstCoupon",1)})}var b=$(".new-detail-header"),c=b.height(),d=b.find(".new-input");l(d,"new-search-focus",".new-search"),l(".evaluate-textarea textarea","evaluate-textarea-focus",".evaluate-textarea");var e=$("#fix-right"),f=$(".detail-fixed-con"),g=$(".detail-footer"),h=b.height(),i=$(window).height(),j=1113;if(e.length){e.offset().top-c}$(window).scroll(function(){var a=$(".doc-main-br").height(),d=$(this).scrollTop(),k=g.offset().top-h-g.height();if(d>c?(b.addClass("new-detail-header-fix"),$(".coupon-info-top").hide()):(b.removeClass("new-detail-header-fix"),!localStorage.getItem("firstCoupon")&&u.getCookie("cuk")&&$(".coupon-info-top").show()),d>h+e.height()){if(e.css({position:"fixed",top:c,zIndex:"75"}),d>a-i){var l=a-j-15;e.css({position:"absolute",top:l})}}else e.removeAttr("style");d>k?(f.find(".operation").hide(),f.find(".data-item").show()):(f.find(".operation").show(),f.find(".data-item").hide())}),a(),$(".firstLoginHook").click(function(){$(".pc-tui-coupon").hide()}),m(b.find(".more-nav"),null,"hover")});var G=function(a){$.getScript("//sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd="+encodeURIComponent(a)+"&p=3&cb=window.baidu_searchsug&t="+(new Date).getTime())};window.baidu_searchsug=function(a){var b=$("#search-detail-input").val();if(b=b?b.replace(/^\s+|\s+$/gm,""):"",b.length>0&&a&&a.s){var c=a.s;if(c.length>0){for(var d=Math.min(c.length,10),e=[],f=0;d>f;f++){var g="/search/home.html?cond="+encodeURIComponent(encodeURIComponent(c[f]));e.push('<li><a href="'+g+'"  data-html="'+c[f]+'" >'+c[f].replace(new RegExp("("+b+")","gm"),"<span class='search-font'>$1</span>")+"</a></li>")}$(".lately-list").html(e.join("")).parent(".detail-lately").show()}}};var H=function(a){var b=a?a.replace(/^\s+|\s+$/gm,""):"";u.compatibleIESkip("/search/home.html?ft=all&cond="+encodeURIComponent(encodeURIComponent(b)),!0)};c.exports={goPage:r}}),define("dist/application/suspension",["dist/application/urlConfig","dist/application/method","dist/application/checkLogin","dist/application/api","dist/application/login","dist/application/loginOperationLogic","dist/cmd-lib/jqueryMd5","dist/common/bindphone","dist/cmd-lib/myDialog","dist/cmd-lib/toast","dist/common/baidu-statistics","dist/common/message-center/index","dist/application/app","dist/application/element","dist/application/template","dist/application/extend","dist/common/bilogReport","dist/application/helper","dist/application/single-login"],function(a,b,c){function d(){function a(a,b,c){if(b=b||0,a&&1===b?l.getCookie("cuk")?(f(b),g.animate({right:"61px"},500)):m.notifyLoginInterface(function(a){e(g,b,a)}):g.animate({right:"-307px"},200),a&&0===b)l.getCookie("cuk")?window.open("/node/rights/vip.html","target"):window.open("/node/rights/vip.html","target");else if(1===b)$(".mui-user-wrap").css("visibility","hidden"),$(".mui-sel-wrap").css("visibility","visible");else if(2===b)$(".mui-user-wrap").css("visibility","hidden"),$(".mui-sel-wrap").css("visibility","hidden"),l.compatibleIESkip("/node/upload.html",!0);else if(3==b){trackEvent("NE002","normalClick","click",{domID:"rightTransClick",domName:"侧边栏转换导流按钮点击"});var d=c.attr("data-convert-type"),h=k.fileConvertSite+k.fileConvertSitePath[d];l.compatibleIESkip(h,!0)}else(4===b||6===b)&&(g.animate({right:"-307px"},200),6==b&&l.compatibleIESkip("https://mp.weixin.qq.com/s/8T4jhpKm-OKmTy-g02yO-Q",!0))}function b(a){var b=$(window).height();b>=920?d.removeClass("fixed-min-height"):d.addClass("fixed-min-height")}var c=$(".fixed-op").find(".J_menu"),d=$(".fixed-right-full"),g=d.find(".fixed-detail-wrap");$(".btn-detail-back").on("click",function(){a(!1,$(this)),c.removeClass("active")}),$(document).on("click",function(){var b=$(this);a(!1,b),c.removeClass("active")}),d.on("click",".js-buy-open",function(){l.compatibleIESkip("/pay/vip.html",!0)}),$(".op-menu-wrap").click(function(a){a.stopPropagation()}),c.on("click",function(){var b=$(this).index();$(this).hasClass("active")?($(this).removeClass("active"),a(!1,$(this))):($(this).addClass("active").siblings().removeClass("active"),a(!0,b,$(this)))}),$(window).bind("resize ready",b)}function e(a,b,c){var d=$("#unLogin"),e=$("#haveLogin"),g=$(".top-user-more"),h=$(".icon-iShare-text"),i=$(".btn-user-more"),j=$(".vip-status");h.html("1"==c.isVip?"续费VIP":"开通VIP"),i.text("1"==c.isVip?"续费":"开通"),"0"==c.isVip?$(".open-vip").show().siblings("a").hide():$(".xf-open-vip").show().siblings("a").hide();var k=null;if("1"==c.isVip?(k=j.find('p[data-type="2"]'),k.find(".expire_time").html(c.expireTime),k.show().siblings().hide()):"1"==c.isVip&&"2"==c.userType&&(k=j.find('p[data-type="3"]'),k.show().siblings().hide()),d.hide(),e.find(".icon-detail").html(c.nickName),e.find("img").attr("src",c.photoPicURL),g.find("img").attr("src",c.photoPicURL),g.find("#userName").html(c.nickName),e.show(),$(".user-avatar img").attr("src",c.photoPicURL),$(".name-wrap .name-text").html(c.nickName),"1"==c.isVip){var l="您的VIP将于"+c.expireTime+"到期,剩余"+c.privilege+"次下载特权";$(".detail-right-normal-wel").html(l),$(".detail-right-vip-wel").html("会员尊享权益"),$(".btn-mui").hide(),$("#memProfit").html("VIP权益")}else $(".mui-privilege-list li").removeClass("hide");f(b),a&&a.animate({right:"61px"},500)}function f(a){1===a?g():2===a&&h()}function g(){i()}function h(){var a={pageNumber:1,pageSize:20,sidx:0,order:-1};$.ajax(n.user.newCollect,{type:"get",async:!1,data:a,dataType:"json"}).done(function(a){0==a.code&&j(a.data.rows)}).fail(function(a){console.log("error==="+a)})}function i(){$.ajax({url:n.user.getFileBrowsePage,type:"POST",data:JSON.stringify({currentPage:1,pageSize:20}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){if("0"==a.code){console.log("getUserFileList:",a);var b=a.data&&a.data.rows||[],c=$("#seenRecord"),d=[];if(b&&b.length){b=b.slice(0,20);for(var e=0;e<b.length;e++){var f=b[e],g='<li><i class="ico-data ico-'+f.format+'"></i><a target="_blank" href="/f/'+f.fileid+'.html">'+f.name+"</a></li>";d.push(g)}c.html(d.join(""))}else c.hide().siblings(".mui-data-null").show()}else{var c=$("#seenRecord");c.hide().siblings(".mui-data-null").show(),console.log(a.message)}},error:function(a){console.log("getUserFileList:",a)}})}function j(a){var b=$("#myCollect"),c=[];if(a&&a.length){for(var d=a.slice(0,20),e=0;e<d.length;e++){var f=d[e],g='<li><i class="ico-data ico-'+f.format+'"></i><a target="_blank" href="/f/'+f.fileId+'.html">'+f.title+"</a></li>";c.push(g)}b.html(c.join("")),a.length>20&&b.siblings(".btn-mui-fix").removeClass("hide")}else b.siblings(".mui-data-null").removeClass("hide")}var k=a("dist/application/urlConfig"),l=a("dist/application/method"),m=a("dist/application/checkLogin"),n=(a("dist/application/app"),a("dist/application/api"));d(),$(".op-feedback").on("click",function(){var a=window.location.href;l.compatibleIESkip("/node/feedback/feedback.html?url="+encodeURIComponent(a),!0)}),$("#go-back-top").on("click",function(){$("body,html").animate({scrollTop:0},200)});try{!function(a,b,c,d,e,f,g){a[d]=a[d]||function(){(a[d].a=a[d].a||[]).push(arguments)},f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=!0,f.charset="UTF-8",f.src="https://static.meiqia.com/widget/loader.js",g.parentNode.insertBefore(f,g)}(window,document,"script","_MEIQIA"),_MEIQIA("entId","da3025cba774985d7ac6fa734b92e729"),_MEIQIA("subSource","sub_source_10"),_MEIQIA("manualInit")}catch(o){}$(".btn-mui-contact").on("click",function(){_MEIQIA("init"),_MEIQIA("allSet",function(){_MEIQIA("showPanel")})}),c.exports={usermsg:function(a){if($(".user-avatar img").attr("src",a.photoPicURL),$(".name-wrap .name-text").html(a.nickName),"1"==a.isVip){var b="您的VIP将于"+a.expireTime+"到期,剩余"+a.privilege+"次下载特权";$(".detail-right-normal-wel").html(b),$(".detail-right-vip-wel").html("会员尊享权益"),$(".btn-mui").hide(),$("#memProfit").html("VIP权益")}else $(".mui-privilege-list li").removeClass("hide")}}}),define("dist/application/app",["dist/application/method","dist/application/urlConfig","dist/application/api","dist/application/element","dist/application/template","dist/application/extend","dist/common/bilogReport","dist/common/message-center/index","dist/application/login","dist/application/loginOperationLogic","dist/cmd-lib/jqueryMd5","dist/common/bindphone","dist/cmd-lib/myDialog","dist/cmd-lib/toast","dist/application/helper","dist/application/single-login"],function(a,b,c){function d(){var a=i.user.dictionaryData.replace("$code","singleLogin");f(a,"GET","",!1).done(function(a){if(0==a.code&&a.data&&a.data.length){var b=a.data[0];1==b.pcode&&n()}})}function e(){var a="visitor_id",b=94608e7,c=g.getCookie(a),d="iask_web";iask_web.init(d,{local_storage:{type:"cookie"},loaded:function(d){c?d.set_visit_id(c):f(i.user.getVisitorId,"GET","",!1).done(function(e){"0"==e.code?(g.setCookieWithExp(a,e.data,b,"/"),d.set_visit_id(e.data)):(c=(Math.floor(1e5*Math.random())+(new Date).getTime()+"000000000000000000").substring(0,18),d.set_visit_id(c))}).fail(function(){console.log("getVisitUserId:",error),c=(Math.floor(1e5*Math.random())+(new Date).getTime()+"000000000000000000").substring(0,18),g.setCookieWithExp(a,c,b,"/"),d.set_visit_id(c)})}})}function f(a,b,c,d,e){return $.ajax(a,{type:b||"post",data:c?JSON.stringify(c):"",async:0==d?!1:!0,contentType:"application/json; charset=utf-8",dataType:"json",headers:$.extend({},{"cache-control":"no-cache",Pragma:"no-cache",Authrization:g.getCookie("cuk"),isharejsid:g.getLoginSessionId()},e)})}var g=a("dist/application/method"),h=a("dist/application/urlConfig"),i=a("dist/application/api");a("dist/application/element"),a("dist/application/extend");var j=a("dist/common/bilogReport").trackEvent,k=a("dist/common/bilogReport").trackEventLogin,l=a("dist/common/message-center/index");window.$ajax=f,window.template=a("dist/application/template");try{new ISHARE_WEB_SDK({PRODUCT_CONFIG:{TERMINAL_TYPE:"0",PRODUCT_NAME:"ishare",SITE_TYPE:"ishare",PRODUCT_CODE:"0",PRODUCT_VER:"V1.0.0"},TRACK_TYPE:"get",TRACK_URL:h.bilogUrl,PAGEVIEW:!0}),window.trackEvent=j,window.trackEventLogin=k,e()}catch(m){}a("dist/application/login"),a("dist/application/helper");var n=a("dist/application/single-login").init;return d(),$.ajaxSetup({headers:{Authrization:g.getCookie("cuk"),isharejsid:g.getLoginSessionId()},complete:function(a,b){},statusCode:{401:function(){g.delCookie("cuk","/"),$.toast({text:"请重新登录",delay:2e3})}}}),$(document).ready(function(){$(document).ajaxError(function(a,b,c,d){console.log(JSON.stringify({xhr:b,options:c}))}),l.init()}),window.getCookie=g.getCookie,{method:g,v:"1.0.1"}}),define("dist/application/element",["dist/application/method","dist/application/template"],function(a,b,c){a("dist/application/method"),a("dist/application/template");if(window.pageConfig&&window.pageConfig.hotData){JSON.parse(window.pageConfig.hotData)}var d=function(a){var b={ele:a,init:function(){return this.ele[0].addEventListener("click",function(){$("html, body").animate({scrollTop:0},120)},!1),window.addEventListener("scroll",this,!1),this},handleEvent:function(a){var b=$(document).scrollTop();$(window).height();return b>100?this.ele.show():this.ele.hide(),b>10?$(".m-header").addClass("header-fix"):$(".m-header").removeClass("header-fix"),this}};b.init().handleEvent()};$("#backToTop").length&&d&&d($("#backToTop"))}),!function(){function a(a){return a.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(/^$|,+/)}function b(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(c,d){function e(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"")),a&&(a=s[1]+b(a)+s[2]+"\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\n/g,function(){return m++,"$line="+m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=b.replace(/\s*\([^\)]+\)/,"");n[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=s[1]+b+s[2]}return g&&(b="$line="+c+";"+b),r(a(b),function(a){if(a&&!p[a]){var b;b="print"===a?u:"include"===a?v:n[a]?"$utils."+a:o[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",p[a]=!0}}),b+"\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,s=q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],t=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=''.concat.apply('',arguments);"+t+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+t+"}",w="'console.log(3316)';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=s[0],y="return new String("+s[3]+");";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(c)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')};}");try{var A=new Function("$data","$filename",z);return A.prototype=n,A}catch(B){throw B.temp="function anonymous($data,$filename) {"+z+"}",B}}var d=function(a,b){return"string"==typeof b?q(b,{filename:a}):g(a,b)};d.version="3.0.0",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=q(d,{filename:a})}}return b};var h=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?h(a.call(a)):""),a},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\w#]+;)|[<>"']/g,j)},l=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return"{Template Error}"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+""}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||"anonymous",j.name="Syntax Error",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,u=/[^\w$]+/g,v=new RegExp(["\\b"+s.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g;e.openTag="{{",e.closeTag="}}";var y=function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"$helpers."+d+"("+a+e+")"};e.parser=function(a,b){a=a.replace(/^\s/,"");var c=a.split(" "),e=c.shift(),f=c.join(" ");switch(e){case"if":a="if("+f+"){";break;case"else":c="if"===c.shift()?" if("+c.join(" ")+")":"",a="}else"+c+"{";break;case"/if":a="}";break;case"each":var g=c[0]||"$data",h=c[1]||"as",i=c[2]||"$value",j=c[3]||"$index",k=i+","+j;"as"!==h&&(g="[]"),a="$each("+g+",function("+k+"){";break;case"/each":a="});";break;case"echo":a="print("+f+");";break;case"print":
case"include":a=e+"("+c.join(",")+");";break;default:if(-1!==f.indexOf("|")){var l=b.escape;0===a.indexOf("#")&&(a=a.substr(1),l=!1);for(var m=0,n=a.split("|"),o=n.length,p=l?"$escape":"$string",q=p+"("+n[m++]+")";o>m;m++)q=y(q,n[m]);a="=#"+q}else a=d.helpers[e]?"=#"+e+"("+c.join(",")+");":"="+a}return a},"function"==typeof define?define("dist/application/template",[],function(){return d}):"undefined"!=typeof exports?module.exports=d:this.template=d}(),define("dist/application/extend",[],function(a,b,c){function d(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,String(this.getFullYear()).substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr(String(b[c]).length)));return a}String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")}),String.prototype.stripTags||(String.prototype.stripTags=function(){return this.replace(/<\/?[^>]+>/gi,"")}),Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1}),Date.prototype.formatDate||(Date.prototype.formatDate=d)}),define("dist/common/bilogReport",[],function(a,b,c){function d(a,b,c,d,e){e?iask_web.track_event(a,b,c,d):setTimeout(function(){iask_web.track_event(a,b,c,d)},350)}function e(a){iask_web.login(a)}return{trackEvent:d,trackEventLogin:e}}),define("dist/application/helper",[],function(a,b,c){template.helper("encodeValue",function(a){return encodeURIComponent(encodeURIComponent(a))})}),define("dist/application/single-login",["dist/application/method","dist/application/api","dist/application/urlConfig"],function(a){function b(a){var b=d.getLoginToken();d.customAjax({type:"GET",url:e.user.checkSso,async:!1,cache:!1,headers:{isharejsid:a},success:function(a){"0"===a.code&&a.data&&a.data.access_token?b!==a.data.access_token&&(d.saveLoginToken(a.data.access_token),window.location.reload()):d.delLoginToken()},error:function(){d.delLoginToken()}})}function c(){var a=d.getLoginSessionId();if(a)b(a);else{var c=window.location.href,e=d.getCookie("ISHREDIRECT"),g=d.getParamsByName(c,"ishredtid");if(e&&e===g){d.delCookie("ISHREDIRECT","/");var h=d.getParamsByName(c,"isharejsid");h&&(d.saveLoginSessionId(h),b(h))}else{var i=d.randomString(6);d.setCookieWithExpPath("ISHREDIRECT",i,6e4,"/"),c=c.match("ishredtid")?c.replace("ishredtid="+g,"ishredtid="+i):c.match(/[\\?#]/)?c+"&ishredtid="+i:c+"#ishredtid="+i,window.location.replace(f+encodeURIComponent(c))}}}var d=a("dist/application/method"),e=a("dist/application/api"),f=loginUrl||"http://login-ishare.iask.com.cn/gateway/cas/login/jump?redirectUrl=";return{init:c}}),define("dist/common/file-collect-layer/index",["dist/common/file-collect-layer/fileCollect"],function(a,b,c){function d(){layer.open({id:"fileCollectLayer",skin:"g-noBg-layer",type:1,title:!1,closeBtn:0,area:["477px","244px"],shade:.8,shadeClose:!1,content:e,success:function(a,b){f.init(b)},end:function(){f.destroy()}})}var e=a("dist/common/file-collect-layer/fileCollect.html"),f=a("dist/common/file-collect-layer/fileCollect");return{open:d}}),define("dist/common/file-collect-layer/fileCollect.html",[],'<div class="m-fileCollect-layer jsFileCollectLayer">\n    <!-- 关闭弹窗按钮 -->\n    <div class="close-btn jsFileCollectClose"></div>\n    <div class="layer-main">\n        收藏数量已达上限，<br>开通VIP可收藏更多资料哦\n    </div>\n    <div class="layer-footer">\n        <a class="confirm-btn" href="/pay/vip.html" target="_blank">立即开通</a>\n    </div>\n</div>\n'),define("dist/common/file-collect-layer/fileCollect",[],function(a,b,c){return{layerIndex:null,init:function(a){var b=this;b.layerIndex=a,$(".jsFileCollectLayer").ready(function(){b.bindEvent()})},destroy:function(){this.layerIndex=null,this.unBindEvent()},bindEvent:function(){var a=this;$(".jsFileCollectClose").on("click",function(b){b.stopPropagation(),a.closeLayer()})},unBindEvent:function(){$(".jsFileCollectClose").off("click")},closeLayer:function(){var a=this.layerIndex;a&&layer.close(a)}}}),define("dist/common/userActionRecordReport",["dist/application/method","dist/application/api","dist/application/urlConfig"],function(a,b,c){function d(a){f.getCookie("cuk")&&setTimeout(function(){e(a)},1e4)}function e(a){var b=$.extend({},a,{reportTime:(new Date).getTime(),uid:f.getCookie("userId")});$ajax(g.user.taskUserActionRecordReport,"post",b).then(function(a){console.log("paradigm4:",a)})}var f=a("dist/application/method"),g=a("dist/application/api");return{Browse10s:d}}),define("dist/common/evaluate-layer/index",["dist/application/api","dist/application/urlConfig","dist/application/method","dist/application/checkLogin","dist/application/login","dist/application/loginOperationLogic","dist/cmd-lib/jqueryMd5","dist/common/bindphone","dist/cmd-lib/myDialog","dist/cmd-lib/toast","dist/common/baidu-statistics","dist/common/message-center/index","dist/common/evaluate-layer/evaluate"],function(a,b,c){var d=a("dist/application/api"),e=a("dist/application/method"),f=a("dist/application/checkLogin"),g=a("dist/common/evaluate-layer/evaluate.html"),h=a("dist/common/evaluate-layer/evaluate");return{currentLayerIndex:null,open:function(a,b,c){var g=this;return a&&a.fid?void(e.getCookie("cuk")?(g.closeLayer(),b?e.customGet(d.comment.getPersoDataInfo,{fid:a.fid},function(b){b&&"0"===b.code?b.data?g.openLayer(a,b.data,c):g.layerMsg("评价信息为空"):g.layerMsg(b&&b.message?b.message:"评价信息获取失败，请稍后重试")},function(){g.layerMsg("评价信息获取失败，请稍后重试")}):g.openLayer(a,null,c)):f.notifyLoginInterface()):void g.layerMsg("资料id不能为空")},openLayer:function(a,b,c){var d=this,e=template.compile(g)({fileInfo:a,evaluateInfo:b});d.currentLayerIndex=layer.open({id:"evaluateEditLayer",skin:"g-noBg-layer",type:1,title:!1,closeBtn:0,area:["477px"],shade:.8,shadeClose:!1,content:e,success:function(d,e){h.init(a,b,e,c)},end:function(){h.destroy()}})},closeLayer:function(){this.currentLayerIndex&&(layer.close(this.currentLayerIndex),this.currentLayerIndex=null)},layerMsg:function(a){$.toast({text:a,delay:2e3})}}}),define("dist/common/evaluate-layer/evaluate.html",[],'<div class="m-evaluate-popup jsEvaluatePopup">\n    <div class="evaluate-close jsEvaluateCloseBtn"></div>\n    <div class="evaluate-header cf">\n        <span class="img-icon {{fileInfo.format}}"></span>\n        <span class="popup-title">{{fileInfo.title}}</span>\n    </div>\n    <!--展示-->\n    {{if evaluateInfo}}\n    <div class="evaluate-body">\n        <div class="evaluate-body-item cf">\n            <div class="left-title">您的评分</div>\n            <div class="star-evaluate">\n                {{each [1,2,3,4,5]}}\n                {{if $value <= evaluateInfo.score}}\n                <span class="star star_{{$value}}"\n                      title="{{$value}}星" data-score="{{$value}}">\n                </span>\n                {{/if}}\n                {{/each}}\n            </div>\n        </div>\n        <div class="evaluate-body-item cf">\n            <div class="left-title block">评价标签</div>\n            <div class="label-evaluate">\n                {{if evaluateInfo.labels}}\n                {{each evaluateInfo.labels}}\n                <span class="label-item active">{{$value.name}}</span>\n                {{/each}}\n                {{/if}}\n            </div>\n        </div>\n        <div class="evaluate-body-item cf">\n            <div class="left-title block">评论内容</div>\n            <div class="content-evaluate">\n               <textarea class="desc-content"\n                         type="text"\n                         maxLength="500"\n                         placeholder="评价有礼，走心评价来一波哇！"\n                         readonly\n               >{{evaluateInfo.content}}</textarea>\n            </div>\n        </div>\n    </div>\n    <div class="evaluate-footer">\n        <span class="btn btn-color jsEvaluateCloseBtn">关闭</span>\n    </div>\n    {{else}}\n    <!--编辑-->\n    <div class="evaluate-body">\n        <div class="star-evaluate jsEvaluateStar">\n            {{each [1,2,3,4,5]}}\n            <span class="star star_{{$value}}" title="{{$value}}星" data-score="{{$value}}"></span>\n            {{/each}}\n        </div>\n        <div class="label-evaluate jsEvaluateLabel"></div>\n        <div class="content-evaluate">\n            <textarea class="desc-content jsEvaluateDesc"\n                      maxLength="500"\n                      placeholder="评价有礼，走心评价来一波哇！"\n            ></textarea>\n        </div>\n    </div>\n    <div class="evaluate-footer">\n        <span class="btn btn-color btn-disabled jsEvaluateBtn">提交评价</span>\n    </div>\n    {{/if}}\n</div>\n'),define("dist/common/evaluate-layer/evaluate",["dist/application/api","dist/application/urlConfig","dist/application/method"],function(a,b,c){var d=a("dist/application/api"),e=a("dist/application/method"),f=a("dist/common/evaluate-layer/evaluate-label.html");return{layerIndex:null,fileInfo:{},evaluateInfo:null,successCallback:null,labelList:[],score:0,init:function(a,b,c,d){var e=this;e.fileInfo=a||{},e.layerIndex=c,e.successCallback=d,$(".jsEvaluatePopup").ready(function(){e.bindEvent()})},destroy:function(){this.layerIndex=null,this.fileInfo={},this.successCallback=null,this.labelList=[],this.score=0,this.unBindEvent()},bindEvent:function(){var a=this,b=$(".jsEvaluateBtn"),c=$(".jsEvaluateStar"),d=c.find(".star"),e=d.length,g=$(".jsEvaluateLabel");$(".jsEvaluateCloseBtn").on("click",function(b){b.stopPropagation(),a.close()}),c.on("mouseover",function(b){b.stopPropagation();var c=$(b.target);if(c.hasClass("star")){var f=c.data("score");a.selectToStar(f,e,d)}}).on("mouseout",function(b){b.stopPropagation(),a.selectToStar(a.score,e,d)}).on("click",function(c){c.stopPropagation();var h=$(c.target);if(h.hasClass("star")){b.removeClass("btn-disabled");var i=h.data("score");a.score=i,a.selectToStar(i,e,d),a.getLabelList(i,function(b){a.labelList=b;var c=template.compile(f)({labelList:b});g.html(c),a.setLayerPosition()})}}),g.on("click",function(a){a.stopPropagation();var b=$(a.target);b.hasClass("label-item")&&(b.hasClass("active")?b.removeClass("active"):b.addClass("active"))}),b.on("click",function(b){b.stopPropagation(),a.submit()})},initSetValue:function(a){if(a){var b=this,c=$(".jsEvaluateBtn"),d=$(".jsEvaluateLabel"),e=$(".jsEvaluateStar").find(".star"),g=a.labels||[];b.score=a.score||0,b.selectToStar(b.score,e.length,e),$(".jsEvaluateDesc").val(a.content),c.removeClass("btn-disabled"),b.getLabelList(b.score,function(a){b.labelList=a;var c=template.compile(f)({labelList:a});d.html(c);var e=$(".jsEvaluateLabel").find(".label-item");e.each(function(b,c){for(var d=0,e=g.length;e>d;d++){var f=g[d];f.id===a[b].id&&$(c).addClass("active")}}),b.setLayerPosition()})}},unBindEvent:function(){$(".jsEvaluateCloseBtn").off("click"),$(".jsEvaluateStar .star").off("mouseover").off("mouseout").off("click"),$(".jsEvaluateLabel").off("click"),$(".jsEvaluateBtn").off("click")},getLabelList:function(a,b){var c=this,f=c.fileInfo.fid;if(!f||0>=a)return void b([]);var g=0;1>=a?g=2:3>=a?g=1:5>=a&&(g=0),e.customGet(d.comment.getStarLevelList,{evalAttitude:g,fid:f,pageSize:12},function(a){var c=[];"0"===a.code&&(c=a.data),b(c)},function(){b([])})},selectToStar:function(a,b,c){for(var d=0;b>d;d++)a>d?$(c[d]).addClass("active"):$(c[d]).removeClass("active")},submit:function(){var a=this;if(!(a.score<=0)){var b=a.fileInfo.fid,c=[],f=$(".jsEvaluateLabel").find(".label-item");f.each(function(b,d){$(d).hasClass("active")&&c.push(a.labelList[b])}),e.customPost(d.comment.addComment,{fid:b,labels:c,site:0,terminal:0,score:a.score,content:$(".jsEvaluateDesc").val()},function(b){"0"===b.code?(a.layerMsg("提交成功"),"function"==typeof a.successCallback&&a.successCallback(),a.close()):(a.layerMsg(b&&b.message?b.message:"提交失败"),a.close())},function(){a.layerMsg("提交失败"),a.close()})}},close:function(){this.layerIndex&&(layer.close(this.layerIndex),this.layerIndex=null)},setLayerPosition:function(){var a=this;setTimeout(function(){layer.style(a.layerIndex,{height:$(".jsEvaluatePopup").height()}),$(window).resize()},100)},layerMsg:function(a){$.toast({text:a,delay:2e3})}}}),define("dist/common/evaluate-layer/evaluate-label.html",[],'{{each labelList}}\n<span class="label-item">{{$value.name}}</span>\n{{/each}}\n'),define("dist/detail/search",[],function(a){var b=a("dist/detail/template/history_tmp.html"),c=a("dist/detail/template/hot_search_tmp.html"),d=JSON.parse(localStorage.getItem("lhistory")),e=JSON.parse(sessionStorage.getItem("hotSearch"));if(d){var f=template.compile(b)({data:d});$(".search-history-list").html(f)}$("ul.search-history-list li").length>0?$(".delete-history-ele").show():$(".delete-history-ele").hide(),$(".btn-m-search").on("click",function(a){a.stopPropagation(),sessionStorage.getItem("hotSearch")?i(e):h(),$("#search-bd-con").hide(),$(".search-dialog").show(),$("#search-input").focus()}),$(document).on("keyup","#search-input",function(a){var b=a.keyCode;$(this).val()?($(".btn-input-delete").show(),$(".btn-cancel").css("color","#f25125"),$(".search-main:eq(0):visible").hide(),$(".search-main:eq(1):hidden").show(),k($(this).val())):($(".search-main:eq(0):hidden").show(),$(".search-main:eq(1):visible").hide(),$(".btn-input-delete").hide(),$(".btn-cancel").css("color","#444")),13==b&&g()}),$(document).on("click",".btn-cancel",function(a){a&&a.stopPropagation(),g()}),$(document).on("click",".js_back",function(a){a&&a.stopPropagation(),$(".search-dialog").hide(),$("#search-bd-con").show(),$("#search-input").blur()}),$(document).on("click",".btn-input-delete",function(a){$(this).hide(),$("#search-input").val("")}),$(document).on("click","#search-hot-box",function(a){var b=$(a.target).text();l(b)}),$(document).on("click",".delete-history-ele",function(a){$(this).hide(),$(".search-dialog .search-history-list").hide(),localStorage.removeItem("lhistory")}),$(document).on("click",".btn-delete",function(a){if($("ul.search-history-list li").length){var b=$(this).data("html");m(b),$(this).closest("li").remove()}$("ul.search-history-list li").length>0?$(".delete-history-ele").show():$(".delete-history-ele").hide()}),$(".search-dialog .search-list").on("click","a",function(a){var b=$(this).data("html");b&&l(b)});var g=function(){var a=$("#search-input").val();return a=a?_val.replace(/^\s+|\s+$/gm,""):"",_val?(l(a),void j(a)):void $.toast({text:"搜索内容为空"})},h=function(){$.ajax(api.getHotSearch,{type:"get",async:!1,dataType:"json"}).done(function(a){0==a.code&&(i(a.data),sessionStorage.setItem("hotSearch",JSON.stringify(a.data)))}).fail(function(a){$.toast({text:"error",delay:2e3})})},i=function(a){if(a){var b=template.compile(c)({data:a});$("#search-hot-box").html(b)}},j=function(a){window.location.href="/search/home.html?ft=all&cond="+encodeURIComponent(encodeURIComponent(a))},k=function(a){$.getScript("//sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd="+encodeURIComponent(a)+"&p=3&cb=window.baidu_searchsug&t="+(new Date).getTime())};window.baidu_searchsug=function(a){var b=$(".search-dialog .s-input").val();if(b=b?b.replace(/^\s+|\s+$/gm,""):"",b.length>0&&a&&a.s){var c=a.s;if(c.length>0){for(var d=Math.min(c.length,10),e=[],f=0;d>f;f++){var g="/search/home.html?ft=all&cond="+encodeURIComponent(encodeURIComponent(c[f]));e.push('<li><a href="'+g+'"  data-html="'+c[f]+'" >'+c[f].replace(new RegExp("("+b+")","gm"),"<span class='search-font'>$1</span>")+"</a></li>")}$(".search-dialog .search-main .search-list").html(e.join(""))}}};var l=function(a){d?-1===$.inArray(a,d)&&d.unshift(a):d=[a],localStorage.setItem("lhistory",JSON.stringify(d))},m=function(a){var b=$.inArray(a,d);b>-1&&d.splice(b,1),localStorage.setItem("lhistory",JSON.stringify(d))}}),define("dist/detail/template/history_tmp.html",[],'{{each data as value i}}\n<li>\n    <a href="/search/home.html?cond={{encodeValue(value)}}">{{value}}</a>\n    <a href="javascript:;" class="btn-delete" data-html="{{value}}"></a>\n</li>\n{{/each}}'),define("dist/detail/template/hot_search_tmp.html",[],'{{each data as value i}}\n<a href="/search/home.html?cond={{encodeValue(value)}}">{{value}}</a>\n{{/each}}'),define("dist/detail/paging",["dist/cmd-lib/toast","dist/detail/changeShowOverText","dist/detail/download","dist/application/method","dist/cmd-lib/myDialog","dist/cmd-lib/loading","dist/cmd-lib/util","dist/detail/common","dist/application/api","dist/application/urlConfig","dist/common/loginType","dist/detail/handlePaidTest","dist/application/checkLogin","dist/application/login","dist/application/loginOperationLogic","dist/cmd-lib/jqueryMd5","dist/common/bindphone","dist/common/baidu-statistics","dist/common/message-center/index","dist/detail/changeDetailFooter"],function(a){function b(){for(var a=$(".data-detail"),b=0;b<a.length;b++){var c=a[b].getBoundingClientRect().top;if(v>c&&c>0){$(".page-input").text(b+1);break}}}function c(a){console.log("当前传递的是第 "+a+" 项"),a-=1;var b=$(".detail-con").eq(a);if(!b.length)return!1;var c=window.pageConfig.params.g_fileExtension||"",d=window.pageConfig.supportSvg,e=window.pageConfig.svgFlag,f=window.pageConfig.copy,g=b.find(".data-detail");if(g.length){var h=window.pageConfig.imgUrl;g.find(".loading").remove();var i=h[a];e&&d?(i=this.window.pageConfig.svgUrl[a],f?g.html("<embed src='"+i+"' width='100%' height='100%' type='image/svg+xml' pluginspage ='//www.adobe.com/svg/viewer/install/'/>"):g.html("<embed src='"+i+"' width='100%' height='100%' type='image/svg+xml' pluginspage ='//www.adobe.com/svg/viewer/install/'/><article class='detail-holder'></article>")):"txt"===c?g.html(i):g.html("<img class='img-png lazy' width='100%' height='100%' src='"+i+"' alt=''>")}}function d(a){n=a||n;var b=t>=n+5?n+5:t,c=window.pageConfig.params;x.drawing(b);var d=$(".detail-pro-con div.article-page").length;(d-t>=0||d==q)&&(x.isHideMore(d),"点击可继续阅读 >"!==$(".red-color").text()?(trackEvent("SE035","fileDetailBottomDownClick","click",{fileID:c.g_fileId,fileName:c.file_title,salePrice:c.productPrice,saleType:c.productType,fileCategoryID:c.classid1+"||"+c.classid2+"||"+c.classid3,fileCategoryName:c.classidName1+"||"+c.classidName2+"||"+c.classidName3}),k()):trackEvent("NE029","fileListNormalClick","click",{domID:"continueRead",domName:"继续阅读",fileID:c.g_fileId,fileName:c.file_title,saleType:c.productType}),j()),m()}function e(){if(!w)return!1;for(var a=$(".data-detail"),b=0;b<a.length;b++){var d=a[b].getBoundingClientRect().bottom;if(d>v&&d>0){if(w){var e=a.eq(b).closest(".article-page").attr("data-num"),f=a.eq(b).find(".loading");e&&f.length&&c(e)}$(".page-input").text(b+1);break}}}function f(a){a=a||window.event,a.wheelDelta?(a.wheelDelta>0&&e(),a.wheelDelta<0):a.detail&&(a.detail<0&&e(),a.detail>0)}function g(a,b){var c="",d="",e=window.pageConfig.params.g_fileExtension||"",f=window.pageConfig.supportSvg,g=window.pageConfig.svgFlag,h=window.pageConfig.copy;return"txt"===e?c+="<div class='detail-con first-style article-page source-link' data-num='"+b+"'><div class='detail-inner article-main'><div class='data-detail other-format-style'>"+a+"</div></div></div>":g&&f?(d="ppt"===e?"ppt-format-style":"other-format-style",c+="<div class='detail-con third-style article-page source-link ' data-num='"+b+"'><div class='detail-inner article-main'><div class='data-detail "+d+"'><embed src='"+a+"' width='100%' height='100%' type='image/svg+xml' pluginspage ='//www.adobe.com/svg/viewer/install/'/>"+(h?"":"<article class='detail-holder'></article>")+"</div></div></div>"):(d="ppt"===e?"ppt-format-style":"other-format-style",c+="<div class='detail-con second-style article-page source-link' data-num='"+b+"'><div class='detail-inner article-main'><div class='data-detail "+d+"'><img class='img-png lazy' width='100%' height='100%' src='"+a+"' alt=''></div></div></div>"),c}function h(a,b){var c="",d="",e=window.pageConfig.params.g_fileExtension||"",f=window.pageConfig.supportSvg,g=window.pageConfig.svgFlag;return"txt"===e?c+="<div class='detail-con first-style article-page source-link' data-num='"+b+"'><div class='detail-inner article-main'><div class='data-detail other-format-style'><div class='loading' style='height: 800px;'></div></div></div></div>":g&&f?(d="ppt"===e?"ppt-format-style":"other-format-style",c+="<div class='detail-con third-style article-page source-link ' data-num='"+b+"'><div class='detail-inner article-main'><div class='data-detail "+d+"'><div class='loading' style='height: 800px;'></div></div></div></div>"):(d="ppt"===e?"ppt-format-style":"other-format-style",c+="<div class='detail-con second-style article-page source-link' data-num='"+b+"'><div class='detail-inner article-main'><div class='data-detail "+d+"'><div class='loading' style='height: 800px;'></div></div></div></div>"),c}a("dist/cmd-lib/toast");var i=a("dist/detail/template/img_box.html"),j=a("dist/detail/changeShowOverText").changeText,k=a("dist/detail/changeShowOverText").readMoreTextEvent,l=a("dist/detail/changeDetailFooter").initStyle,m=a("dist/detail/changeDetailFooter").loadMoreStyle;if(window.pageConfig.imgUrl){var n=Number(window.pageConfig.page.initReadPage),o=0,p=Number(window.pageConfig.imgUrl.length),q=Number(window.pageConfig.params.totalPage),r=window.pageConfig.params.g_fileExtension||"",s=Number(window.pageConfig.page.preRead)||50,t=Math.min(s,50),u=Number(window.pageConfig.page.initReadPage),v=(document.documentElement.clientHeight||window.innerHeight)/4,w=window.location.hash,x={goSwiper:null,isHideMore:function(a){a>=t&&q>=t?$(".show-over-text").eq(0).show():a>=p&&$(".show-over-text").eq(1).show()},drawing:function(a){if(!(2>=p)){$(".detail-pro-con div.article-page").eq(2).show(),t>=4&&$(".detail-pro-con div.article-page").eq(3).show();var b=[],c=$(".detail-pro-con div.article-page").length,d=window.pageConfig.supportSvg,e=window.pageConfig.svgFlag,f=window.pageConfig.copy;1==d&&1==e&&(r="svg");for(var g=c+1;g<=Math.min(p,50,a);g++){n=g;var h={imgSrc:window.pageConfig.imgUrl[g-1],noPage:g,imgTotalPage:p,totalPage:q,remainPage:p-g,ptype:r};d&&e&&(h.svgSrc=window.pageConfig.svgUrl[g-1]),b.push(h)}var j=template.compile(i)({data:b,ptype:r,copy:f});"txt"===r?$(".font-detail-con").append(j):$(".ppt-pic-con").append(j),$("img.lazy").lazyload({effect:"fadeIn"});var k=a>=s?q-s:o-=5;"none"==$(".page-text .endof-trial-reading").css("display")&&$(".show-more-text .page-num").text(k>=0?k:0)}},handleHtmlExpireUrl:function(){var a=0,b=window.pageConfig.imgUrl[0],c=b.indexOf("?Expires="),d=b.indexOf("&KID=sina"),e=1e3*parseInt(b.substring(c+9,d)),f=Number(new Date(e)),g=Number(new Date);return(g>f||b.indexOf("sinacloud.net")>-1)&&(a=1),a}};$(window).on("scroll",b),(u>=s||u>=p)&&j(),$(".page-num").text().trim()<0&&$(".page-num").text(0),$(function(){var a=$(".detail-pro-con div.article-page");if(w&&w.split("#page")[1]){var b=w.split("#page");if(b.length){var c=Math.min(Number(b[1]),p,s);if(2>=c)o=q-n,a.eq(2).hide(),a.eq(3).hide();else if(7>=c)o=q-2,d(),setTimeout(function(){var a=$(".detail-pro-con").find("div.article-page").eq(c-1).offset().top;$("body,html").animate({scrollTop:a})},2e3);else{o=q-c+5,d();var e=$(".font-detail-con"),f=e.length?e:$(".ppt-pic-con"),i=window.pageConfig.imgUrl[c-1],j=window.pageConfig.supportSvg,k=window.pageConfig.svgFlag;k&&j&&(i=window.pageConfig.svgUrl[c-1]),f.append(g(i,c));for(var m=$(".article-page[data-num='"+c+"']"),r=window.pageConfig.imgUrl,t=7,v=r.slice(t,c-1),y=[],z=8,A=0;A<v.length;A++){var B={index:z,url:v[A]};z++,y.push(B)}for(var C="",D=0;D<y.length;D++){var E=y[D];C+=h("",E.index)}m.before(C),setTimeout(function(){$("body,html").animate({scrollTop:m.offset().top})},2e3),parseInt(b[1])>=s&&x.isHideMore(c),n=c,$(".show-more-text .page-num").text(q-c)}}}else o=q-u,l()}),$(document).on("mousedown",".detail-holder",function(a){var b=a.currentTarget;b.style.cursor="text";var c,d,e=a.clientX-b.offsetLeft,f=a.clientY-b.offsetTop;return b.onmousemove=function(a){c=a.clientX-e,d=a.clientY-f},b.onmouseup=function(){(Math.abs(c)>50||Math.abs(d)>50)&&$.toast({text:"开通VIP可复制文本内容",icon:"",delay:2e3,callback:!1}),b.style.cursor="",b.onmousemove=null},!1}),document.addEventListener&&document.addEventListener("DOMMouseScroll",f,!1),window.onmousewheel=document.onmousewheel=f,$(document).on("click",'[data-toggle="btnReadMore"]',function(a){a.stopPropagation(),d()}),$(".page-next").on("click",function(){var a=$(".page-input").text()-0;if(2!==t||2!==a){var b=$(".data-detail"),c=t>=n+5?n+5:t;if(2===a&&x.drawing(c),a==b.length&&q>a&&t>a){x.drawing(c);var d=$(".detail-pro-con div.article-page").length;d-t>=0&&x.isHideMore(d),d==q&&x.isHideMore(d)}if(q>a&&t>a){var e=$(".detail-pro-con div.article-page").eq(a).offset()&&$(".detail-pro-con div.article-page").eq(a).offset().top;e&&($("body,html").animate({scrollTop:e},200),setTimeout(function(){$(".page-input").text(a+1)},100))}b.length==t&&q>t&&($(".show-more-text").hide(),$(".show-over-text").eq(0).show(),$(".btn-read-more").hide(),$(".article-mask").hide()),b.length==q&&($(".show-more-text").hide(),$(".show-over-text").eq(1).show(),$(".btn-read-more").hide(),$(".article-mask").hide())}}),$(".page-prev").on("click",function(){var a=$(".page-input").text()-0;if(1!==a){var b=$(".detail-pro-con div.article-page").eq(a-2).offset().top;b&&($("body,html").animate({scrollTop:b},200),setTimeout(function(){$(".page-input").text(a-1)},100))}}),$(".page-input").keydown(function(a){if(13===a.keyCode){var b=$(".page-input").text()-0;if(b>t){var c=$(".d-page-wrap");return c.removeClass("hide"),void setTimeout(function(){c.addClass("hide")},1500)}var d=$(".data-detail");if(b>0&&b<=d.length){var e=$(".detail-pro-con div.article-page").eq(b-1).offset().top;e&&$("body,html").animate({scrollTop:e},200)}}}),$(document).on("click",'[data-toggle="btnExpandMore"]',function(){$(".ppt-pic-con").css("height","auto"),$(this).parent().remove(),$(".js-mask").show(),$("img.lazy").lazyload()}),$("div.detail-pro-con").delegate(".article-page","click",function(){"txt"!==r&&"html"!=$("#ip-file-convertType").val()&&$(".code-source").css("visibility","visible")}),$(".code-source").click(function(){$(".code-source").css("visibility","hidden")}),$(function(){var a="iframeu4078296_0";$.browser.msie&&$.browser.version<=9&&$("#"+a).parent().hide()})}}),define("dist/detail/template/img_box.html",[],'{{each data as value i}}\n{{if ptype == \'txt\'}}\n<div class="detail-con first-style  article-page source-link mt10" data-num="{{data[i].noPage}}">\n    <div class="detail-inner article-main">\n        <div class="data-detail {{if ptype == \'ppt\'}} ppt-format-style {{else}}  other-format-style  {{/if}}">\n            {{#data[i].imgSrc}}\n        </div>\n    </div>\n</div>\n{{else}}\n{{if ptype == \'svg\'}}\n{{if data[i].svgSrc}}\n<div class="detail-con third-style   article-page source-link mt10" data-num="{{data[i].noPage}}">\n    <div class="detail-inner article-main">\n        <div class="data-detail {{if ptype == \'ppt\'}} ppt-format-style {{else}}  other-format-style  {{/if}}">\n            <embed data-src="{{data[i].svgSrc}}" src="{{data[i].svgSrc}}" width="100%" height="100%"\n                type="image/svg+xml" pluginspage="//www.adobe.com/svg/viewer/install/" />\n            {{if !copy}}\n            <article class="detail-holder"></article>\n            {{/if}}\n        </div>\n    </div>\n</div>\n{{/if}}\n{{else}}\n{{if data[i].imgSrc }}\n<div class="detail-con second-style  article-page source-link mt10" data-num="{{data[i].noPage}}">\n    <div class="detail-inner article-main">\n        <div class="data-detail {{if ptype == \'ppt\'}} ppt-format-style {{else}}  other-format-style  {{/if}}">\n            <img data-src="{{data[i].imgSrc}}" src="{{data[i].imgSrc}}" alt="" class="img-png lazy"\n                style="width: 100%;height: auto">\n        </div>\n    </div>\n</div>\n{{/if}}\n{{/if}}\n{{/if}}\n{{/each}}'),define("dist/detail/changeShowOverText",["dist/detail/download","dist/application/method","dist/cmd-lib/myDialog","dist/cmd-lib/toast","dist/cmd-lib/loading","dist/cmd-lib/util","dist/detail/common","dist/application/api","dist/application/urlConfig","dist/common/loginType","dist/detail/handlePaidTest","dist/application/checkLogin","dist/application/login","dist/application/loginOperationLogic","dist/cmd-lib/jqueryMd5","dist/common/bindphone","dist/common/baidu-statistics","dist/common/message-center/index"],function(a,b,c){function d(){$("html,body").animate({scrollTop:0},200),$(".new-detail-header #search-detail-input").focus()}function e(){h.getCookie("cuk")?3==p?d():g():(h.setCookieWithExpPath("download-qqweibo",1,36e5,"/"),5==p?$("#footer-btn .js-buy-open").trigger("click"):i.notifyLoginInterface(function(a){var b=window.loginType;console.log("loginType:",b),("qq"!==b||"weibo"!==b)&&h.delCookie("download-qqweibo","/"),j.afterLogin(a),3==p?d():g(!0)}))}function f(){var a=window.pageConfig.page.status,b=window.pageConfig.page.fileDiscount,c=$(".detail-con").length,d="";switch(p){case"5":c>=n||c>=o?(d="1"==t.isVip&&"1"==r?"¥"+(q*(b/100)).toFixed(2)+"获取该资料":"¥"+Number(q).toFixed(2)+"获取该资料",2==a&&(d=c>=n||c>=o?"下载到本地阅读":d)):d="点击可继续阅读 >";break;case"1":d="下载到本地阅读";break;case"3":d=c>=n||c>=o?("1"!=t.isVip,"查找其他资料"):"点击可继续阅读 >";break;case"4":d="n"==s?"开通VIP 下载资料":2!=a?q+"个下载特权，下载到本地阅读":"下载到本地阅读"}k.text(d),(c>=n||c>=o)&&(l.show(),3==p&&($(".endof-num-reading").hide(),l.text("该资料由网友上传，极少部分内容可浏览，试试")));var e=m.text().trim();if(-1==e||0==e){var f=o-n>=0?o-n:0;m.text(f)}}var g=a("dist/detail/download").downLoad,h=a("dist/application/method"),i=a("dist/application/checkLogin"),j=a("dist/detail/common"),k=(a("dist/application/api"),$(".red-color")),l=$(".page-text .endof-trial-reading"),m=$(".page-num"),n=window.pageConfig.page&&window.pageConfig.page.preRead||50,o=window.pageConfig.imgUrl.length,p=window.pageConfig.page.productType,q=window.pageConfig.page.productPrice,r=window.pageConfig.params.vipDiscountFlag,s=window.pageConfig.page.isDownload,t=h.getCookie("ui")?JSON.parse(h.getCookie("ui")):{};window.changeText=f,c.exports={changeText:f,readMoreTextEvent:e}}),define("dist/detail/changeDetailFooter",[],function(a,b,c){function d(){h=$(".guess-you-like-warpper").outerHeight(!0)||0,i=$(".user-comments-container").outerHeight(!0)||0,j=$(".detail-con").length,k=h+i+30,l=1==j||2==j||3==j?k+123:k,$(".deatil-mr10").css("position","relative"),$(".detail-footer").css({position:"absolute",left:"0px",right:"0px",bottom:l+"px",width:"890px"})}function e(){1==g&&d()}function f(){e()}var g=window.pageConfig.page.isConvert,h=$(".guess-you-like-warpper").outerHeight(!0)||0,i=$(".user-comments-container").outerHeight(!0)||0,j=$(".detail-con").length,k=h+i+30,l=1==j||2==j?k+123:k;c.exports={initStyle:e,loadMoreStyle:f}}),define("dist/detail/expand",[],function(a,b,c){$(function(){function a(a,b,c,d,e,f){function g(a,b,c){$(a).attr("style","-webkit-transform: scale("+b+");-webkit-transform-origin: 0 0;-moz-transform: scale("+b+");-moz-transform-origin:0 0;-ms-transform: scale("+b+"); -ms-transform-origin: 0 0;transform: scale("+b+"); transform-origin: 0 0;").width(c),"Microsoft Internet Explorer"==navigator.appName&&parseInt(navigator.appVersion.split(";")[1].replace(/[ ]/g,"").replace("MSIE",""))<9&&$(a).attr("style",String("zoom:"+b))}function h(a,b,c){var d=($(a).width()/c).toFixed(3)-.002;$(b).each(function(){$(this).parent().height($(this).height()*d+26),g(this,d,c)})}function i(a,b,c,d){$(a).each(function(){"1"==d?$(this).parent().height($(this).outerHeight()*c+26):$(this).parent().height($(this).outerHeight()+26),g(this,c,b)})}function j(a){q=0,$(".detail-con").css("background-color","#fff"),$(".ppt-pic-con").css("background","#fff"),$(".pw-detail").css("width","1213px"),$(".detail-footer").show(),$(".deatil-mr10").css("position","relative"),$(".detail-topbanner").show(),$(".fixed-right-full").show(),
$(a).removeClass("reader-fullScreen-no").addClass("reader-fullScreen"),$(".zoom-decrease").removeClass("zoom-decrease-no"),$(".zoom-add").removeClass("zoom-add-no"),$(".detail-main").removeClass("detail-main-full"),$(".new-detail-header").show(),$(".detail-fixed").removeClass("detail-fixed-full"),$(a).attr("title","全屏浏览"),$(".detail-inner,.detail-profile,.detail-main,.bd-wrap,.doc-main-br,.detail-con,.doc-main").removeAttr("style")}var k,l,m,n,o,p,q=0,r=220,s=0,t=134;k=$(b).width(),l=$(b).height(),o=$(".zoom-decrease").attr("class"),p=$(".zoom-add").attr("class");var u=($(window).width()/k).toFixed(3)-.002;window.screen.width>$(d).width()&&(m=window.screen.width-50,n=$(d).width()),$(a).on("click",function(){if($(".detail-inner,.detail-profile,.detail-main,.bd-wrap,.doc-main-br,.detail-con,.doc-main").removeAttr("style"),$(this).hasClass("reader-fullScreen")){q=1,$(this).removeClass("reader-fullScreen").addClass("reader-fullScreen-no"),$(".reader-fullScreen").removeClass("reader-fullScreen").addClass("reader-fullScreen-no"),$(".zoom-decrease").addClass("zoom-decrease-no"),$(".zoom-add").addClass("zoom-add-no"),$(".detail-main").addClass("detail-main-full");var b=($(".detail-main").width(),1);$(".detail-con").css("background-color","#333"),$(".ppt-pic-con").css("background","#333"),$(".detail-footer").hide(),$(".deatil-mr10").css("position","static"),$(".detail-topbanner").hide(),$(".pw-detail").css("width","890px"),$(".detail-inner").css({"-webkit-transform":"scale("+b+")","-webkit-transform-origin":"0 0","-moz-transform":"scale("+b+")","-moz-transform-origin":"0 0",transform:"scale("+b+")","-ms-transform-origin":"0 0","-ms-transform":"scale("+b+")","transform-origin":"0 0"}).parent(".detail-con").height($(".detail-inner").height()*b),"Microsoft Internet Explorer"==navigator.appName&&parseInt(navigator.appVersion.split(";")[1].replace(/[ ]/g,"").replace("MSIE",""))<9&&$(".detail-inner").css({zoom:b}).parent(".detail-con").height($(".detail-inner").height()*b),$(".new-detail-header").hide(),$(".detail-fixed").addClass("detail-fixed-full"),$(".fixed-right-full").hide(),$(a).attr("title","退出全屏")}else j(a);$(window).resize()}),$(document).keydown(function(b){27===b.which&&$(".reader-fullScreen-no").size()>0&&j(a)}),$(window).resize(function(){""==$(b).html()&&(u=($(window).width()/k).toFixed(3)-.002,u>1&&i(c,k,u,"1"))}),$(".zoom-add").click(function(){if(0==q){if($(".zoom-decrease").removeClass("zoom-decrease-no"),o=$(".zoom-decrease").attr("class"),$(b).width()<$(e).width()?$(b).width($(b).width()+t):$(d).width()<m&&($(d).width($(d).width()+t),$(e).width($(e).width()+t),$(b).width(""),$(b).prev().width("")),h(b,c,k),$(d).width()==m)return $(this).addClass("zoom-add-no"),p=$(".zoom-add").attr("class"),!1;h(b,c,k),s=1,$(".doc-main-br").width($(e).width())}}),$(".zoom-decrease").click(function(){return $(b).width()>r&&0==q&&($(f).width($(f).width()-t),$(b).width($(b).width()-t),$(".zoom-add").removeClass("zoom-add-no"),$(d).width()>n&&($(d).width($(d).width()-t),$(e).width($(e).width()-t)),h(b,c,k),p=$(".zoom-add").attr("class"),s=1,$(".doc-main-br").width($(e).width())),$(b).width()==r&&0==q?($(this).addClass("zoom-decrease-no"),o=$(".zoom-decrease").attr("class"),!1):void 0})}window.orighWidth=$(".detail-main:first").width(),window.orighheight=$(".detail-main:first").height(),a(".reader-fullScreen,.reader-fullScreen-no",".detail-main",".detail-inner",".bd-wrap",".doc-main",".detail-profile")})}),define("dist/detail/buyUnlogin",["dist/application/api","dist/application/urlConfig","dist/cmd-lib/util","dist/application/method","dist/pay/qr","dist/cmd-lib/qr/qrcode.min","dist/application/checkLogin","dist/application/login","dist/application/loginOperationLogic","dist/cmd-lib/jqueryMd5","dist/common/bindphone","dist/cmd-lib/myDialog","dist/cmd-lib/toast","dist/common/baidu-statistics","dist/common/message-center/index","dist/detail/index","dist/application/suspension","dist/application/app","dist/application/element","dist/application/template","dist/application/extend","dist/common/bilogReport","dist/application/helper","dist/application/single-login","dist/detail/common","dist/common/loginType","dist/detail/handlePaidTest","dist/common/file-collect-layer/index","dist/common/file-collect-layer/fileCollect","dist/common/userActionRecordReport","dist/common/evaluate-layer/index","dist/common/evaluate-layer/evaluate"],function(a){var b=a("dist/application/api"),c=a("dist/cmd-lib/util"),d=a("dist/application/method"),e=a("dist/pay/qr"),f=a("dist/application/checkLogin"),g=a("dist/application/urlConfig"),h=a("dist/detail/index").goPage,i=a("dist/common/baidu-statistics").handleBaiduStatisticsPush,j=a("dist/detail/common"),k=pageConfig.page.fileName,l=pageConfig.params.file_format,m=a("dist/application/login").showTouristPurchaseDialog,n=a("dist/application/checkLogin").getIds,o={count:0,orderNo:"",isClear:!1,init:function(){this.bindClick()},bindClick:function(){$("body").on("click",".buyUnloginWrap .navItem",function(){$(this).addClass("active").siblings().removeClass("active");var a=$(this).index();$(".optionsContent").hide(),$(".optionsContent").eq(a).show()}),$("body").on("click",".buyUnloginWrap .selectIcon",function(){$(this).toggleClass("selected"),$(".qrShadow").toggle(),$(".riskTip").toggle()}),$("body").on("click",".buyUnloginWrap .closeIcon",function(){o.closeLoginWindon()}),$("body").on("click",".tourist-purchase-qrContent .tourist-purchase-refresh",function(){o.count=0;var a=o.getVisitorId(),b=o.orderNo;$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-invalidtip").hide(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-qr-invalidtip").hide(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-btn").hide(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-refresh").hide(),o.payStatus(b,a)}),$("body").on("click",".tourist-purchase-qrContent .tourist-purchase-btn",function(){var a=o.getVisitorId(),b=o.orderNo;o.freshOrder(b,a)}),$("body").on("click",".tourist-purchase-content .tourist-purchase-download",function(){var a=o.getVisitorId(),b=o.orderNo;o.freshOrder(b,a)}),$("body").on("click",".js-buy-open",function(){var a=window.pageConfig.page,b=window.pageConfig.params,c=($(this).attr("bilogcontent"),$(this).attr("price")),e=$(this).attr("desc");if(trackEvent("SE003","fileDetailDownClick","click",{fileID:b.g_fileId,fileName:a.fileName,fileType:b.userFileType,salePrice:c&&e?c:b.productPrice,saleType:c&&e?5:b.productType,fileCategoryID:b.classid1+"||"+b.classid2+"||"+b.classid3,fileCategoryName:b.classidName1+"||"+b.classidName2+"||"+b.classidName3}),o.isClear=!1,!d.getCookie("cuk")&&(5==pageConfig.params.productType&&"file"==$(this).data("type")||4==pageConfig.params.productType&&c&&e)){var g=n().clsId,i=n().fid;m({clsId:g,fid:i},function(){f.getLoginData(function(a){var b=window.loginType;console.log("loginType:",b),("qq"!==b||"weibo"!==b)&&d.delCookie("download-qqweibo","/");var f={price:c,desc:e,productType:4};j.afterLogin(a,{type:"file",data:a,callback:h,isPaidTest:f})})});var k="ico-"+pageConfig.params.file_format;$(".tourist-purchase-content .ico-data").addClass(k),$(".tourist-purchase-content .file-desc").text(pageConfig.params.file_title),$(".tourist-purchase-content .file-price-summary .price").text(c?c:pageConfig.params.productPrice),o.createOrder()}})},freshOrder:function(a,c){var e=JSON.stringify({orderNo:a});$.ajax({type:"post",url:b.order.getOrderInfo,headers:{Authrization:d.getCookie("cuk")},contentType:"application/json;charset=utf-8",data:e,success:function(a){if(a&&0==a.code&&a.data){var b=a.data,e=pageConfig.params.g_fileId;if(2==b.orderStatus)try{o.closeLoginWindon();var f="/node/f/downsucc.html?fid="+e+"&unloginFlag=1&name="+k.slice(0,20)+"&format="+l+"&visitorId="+c;d.compatibleIESkip(f,!1)}catch(g){console.log(JSON.stringify(g))}else $.toast({text:"如你已支付,点击订单查询下载"})}else $.toast({text:a.message}),o.closeLoginWindon()},complete:function(){console.log("请求完成")}})},createOrder:function(){var a=o.getVisitorId(),b={fid:pageConfig.params.g_fileId,goodsId:pageConfig.params.g_fileId,goodsType:1,ref:c.getPageRef(window.pageConfig.params.g_fileId),referrer:pageConfig.params.referrer,remark:"other",sourceMode:0,channelSource:4,host:location.origin,channel:"other",isVisitor:1,visitorId:a,isVouchers:1,returnPayment:!1};console.log(JSON.stringify(b)),$.post("/pay/orderUnlogin?ts="+(new Date).getTime(),b,function(c){if(c&&"0"==c.code)o.createdQrCode(c.data.orderNo),trackEvent("SE033","createOrder","query",{orderID:c.data.orderNo,goodsID:pageConfig.params.g_fileId,goodsType:1,prePageFileID:pageConfig.params.g_fileId}),$(".shouldPayWrap span").text(c.data.payPrice/100),o.payStatus(c.data.orderNo,a),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-invalidtip").hide(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-qr-invalidtip").hide(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-btn").hide(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-refresh").hide();else{$.toast({text:c.message});var d=location.href,e=JSON.stringify(b)+JSON.stringify(c);o.reportOrderError(d,e),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-invalidtip").show(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-qr-invalidtip").show(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-btn").show(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-refresh").show()}})},createdQrCode:function(a){o.orderNo=a||"";var b=g.payUrl+"/pay/qr?orderNo="+a;try{setTimeout(function(){e.createQrCode(b,"touristPayQrCode",178,178)},1500)}catch(c){console.log("createdQrCode:",c)}},getVisitorId:function(){var a="visitor_id",b=2592e6,c=(Math.floor(1e5*Math.random())+(new Date).getTime()+"000000000000000000").substring(0,18);return d.getCookie("visitor_id")?d.getCookie("visitor_id"):(d.setCookieWithExp(a,c,b,"/"),d.getCookie("visitor_id"))},payStatus:function(a,c){var e=JSON.stringify({orderNo:a});$.ajax({type:"post",url:b.order.getOrderInfo,headers:{Authrization:d.getCookie("cuk")},contentType:"application/json;charset=utf-8",data:e,success:function(b){if(b&&0==b.code&&b.data){o.count++;var e=b.data,f=pageConfig.params.g_fileId;if(0==e.orderStatus)o.count<=30&&!o.isClear&&window.setTimeout(function(){o.payStatus(a,c)},3e3),o.count>28&&($(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-invalidtip").show(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-qr-invalidtip").show(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-btn").show(),$(".tourist-purchase-content .tourist-purchase-qrContent .tourist-purchase-refresh").show());else if(2==e.orderStatus){i("payFileResult01",{payresult:1,orderid:a,fileid:e.goodsId,orderpayprice:e.payPrice/100}),trackEvent("SE034","payResult","query",{result:1,orderID:e.orderNo,goodsID:e.goodsId,goodsType:e.goodsType,prePageFileID:e.goodsId});try{o.closeLoginWindon();var g="/node/f/downsucc.html?fid="+f+"&unloginFlag=1&name="+k.slice(0,20)+"&format="+l+"&visitorId="+c;d.compatibleIESkip(g,!1)}catch(h){console.log(JSON.stringify(h))}}else 3==e.orderStatus&&(i("payFileResult01",{payresult:1,orderid:a,fileid:e.goodsId,orderpayprice:e.payPrice/100}),trackEvent("SE034","payResult","query",{result:0,orderID:e.orderNo,goodsID:e.goodsId,goodsType:e.goodsType,prePageFileID:e.goodsId}))}else $.toast({text:b.message}),o.closeLoginWindon()},complete:function(){console.log("请求完成")}})},closeLoginWindon:function(){$(".buyUnloginWrap").remove(),$(".aiwen_login_model_div").remove(),o.isClear=!0,o.count=0},reportOrderError:function(a,c){$.ajax({type:"post",url:b.order.reportOrderError,headers:{Authrization:d.getCookie("cuk")},contentType:"application/json;charset=utf-8",data:JSON.stringify({url:a,message:c,userId:o.getVisitorId()}),success:function(a){console.log("reportOrderError:",a)},complete:function(){}})}};o.init()}),define("dist/pay/qr",["dist/cmd-lib/util","dist/cmd-lib/qr/qrcode.min"],function(a){var b=a("dist/cmd-lib/util"),c=a("dist/cmd-lib/qr/qrcode.min");return{createQrCode:function(a,d,e,f){if(a)try{console.log("生成二维码start"),$("#"+d).html("");var g=new c(document.getElementById(d),{width:e,height:f});g.clear(),g.makeCode(a),console.log("生成二维码end"),$("#"+d+" img").hide()}catch(h){console.info(a+":生成二维码异常"),b.validateIE9()||console.info(a+":生成二维码异常")}},generateIE8QRCode:function(a,b,c,d){$("#"+b).html(""),$("#"+b).qrcode({render:"table",width:c,height:d,text:a,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"})}}}),define("dist/cmd-lib/qr/qrcode.min",[],function(a,b,c){var d;!function(){function a(a){this.mode=k.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var b=[],c=0,d=this.data.length;d>c;c++){var e=this.data.charCodeAt(c);e>65536?(b[0]=240|(1835008&e)>>>18,b[1]=128|(258048&e)>>>12,b[2]=128|(4032&e)>>>6,b[3]=128|63&e):e>2048?(b[0]=224|(61440&e)>>>12,b[1]=128|(4032&e)>>>6,b[2]=128|63&e):e>128?(b[0]=192|(1984&e)>>>6,b[1]=128|63&e):b[0]=e,this.parsedData=this.parsedData.concat(b)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function b(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function c(a,b){if(void 0==a.length)throw new Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=new Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function e(a,b){this.totalCount=a,this.dataCount=b}function f(){this.buffer=[],this.length=0}function g(){return"undefined"!=typeof CanvasRenderingContext2D}function h(){var a=!1,b=navigator.userAgent;return/android/i.test(b)&&(a=!0,aMat=b.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(a=parseFloat(aMat[1]))),a}function i(a,b){for(var c=1,d=j(a),e=0,f=q.length;f>=e;e++){var g=0;switch(b){case l.L:g=q[e][0];break;case l.M:g=q[e][1];break;case l.Q:g=q[e][2];break;case l.H:g=q[e][3]}if(g>=d)break;c++}if(c>q.length)throw new Error("Too long data");return c}function j(a){var b=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return b.length+(b.length!=a?3:0)}a.prototype={getLength:function(){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}},b.prototype={addData:function(b){var c=new a(b);this.dataList.push(c),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,c){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[d][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,c),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=b.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=c>=0&&6>=c&&(0==d||6==d)||d>=0&&6>=d&&(0==c||6==c)||c>=2&&4>=c&&d>=2&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=n.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){var d=a.createEmptyMovieClip(b,c),e=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*e,h=0;h<this.modules[f].length;h++){var i=h*e,j=this.modules[f][h];j&&(d.beginFill(0,100),d.moveTo(i,g),d.lineTo(i+e,g),d.lineTo(i+e,g+e),d.lineTo(i,g+e),d.endFill())}return d},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(var b=8;b<this.moduleCount-8;b++)null==this.modules[6][b]&&(this.modules[6][b]=0==b%2)},setupPositionAdjustPattern:function(){for(var a=n.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var f=-2;2>=f;f++)for(var g=-2;2>=g;g++)this.modules[d+f][e+g]=-2==f||2==f||-2==g||2==g||0==f&&0==g?!0:!1}},setupTypeNumber:function(a){for(var b=n.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},setupTypeInfo:function(a,b){for(var c=this.errorCorrectLevel<<3|b,d=n.getBCHTypeInfo(c),e=0;15>e;e++){var f=!a&&1==(1&d>>e);6>e?this.modules[e][8]=f:8>e?this.modules[e+1][8]=f:this.modules[this.moduleCount-15+e][8]=f}for(var e=0;15>e;e++){var f=!a&&1==(1&d>>e);8>e?this.modules[8][this.moduleCount-e-1]=f:9>e?this.modules[8][15-e-1+1]=f:this.modules[8][15-e-1]=f}this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,g=this.moduleCount-1;g>0;g-=2)for(6==g&&g--;;){for(var h=0;2>h;h++)if(null==this.modules[d][g-h]){var i=!1;f<a.length&&(i=1==(1&a[f]>>>e));var j=n.getMask(b,d,g-h);j&&(i=!i),this.modules[d][g-h]=i,e--,-1==e&&(f++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c,c=-c;break}}}},b.PAD0=236,b.PAD1=17,b.createData=function(a,c,d){for(var g=e.getRSBlocks(a,c),h=new f,i=0;i<d.length;i++){var j=d[i];h.put(j.mode,4),h.put(j.getLength(),n.getLengthInBits(j.mode,a)),j.write(h)}for(var k=0,i=0;i<g.length;i++)k+=g[i].dataCount;if(h.getLengthInBits()>8*k)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+8*k+")");for(h.getLengthInBits()+4<=8*k&&h.put(0,4);0!=h.getLengthInBits()%8;)h.putBit(!1);for(;!(h.getLengthInBits()>=8*k)&&(h.put(b.PAD0,8),!(h.getLengthInBits()>=8*k));)h.put(b.PAD1,8);return b.createBytes(h,g)},b.createBytes=function(a,b){for(var d=0,e=0,f=0,g=new Array(b.length),h=new Array(b.length),i=0;i<b.length;i++){var j=b[i].dataCount,k=b[i].totalCount-j;e=Math.max(e,j),f=Math.max(f,k),g[i]=new Array(j);for(var l=0;l<g[i].length;l++)g[i][l]=255&a.buffer[l+d];d+=j;var m=n.getErrorCorrectPolynomial(k),o=new c(g[i],m.getLength()-1),p=o.mod(m);h[i]=new Array(m.getLength()-1);for(var l=0;l<h[i].length;l++){var q=l+p.getLength()-h[i].length;h[i][l]=q>=0?p.get(q):0}}for(var r=0,l=0;l<b.length;l++)r+=b[l].totalCount;for(var s=new Array(r),t=0,l=0;e>l;l++)for(var i=0;i<b.length;i++)l<g[i].length&&(s[t++]=g[i][l]);for(var l=0;f>l;l++)for(var i=0;i<b.length;i++)l<h[i].length&&(s[t++]=h[i][l]);return s};for(var k={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},m={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},n={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;n.getBCHDigit(b)-n.getBCHDigit(n.G15)>=0;)b^=n.G15<<n.getBCHDigit(b)-n.getBCHDigit(n.G15);return(a<<10|b)^n.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;n.getBCHDigit(b)-n.getBCHDigit(n.G18)>=0;)b^=n.G18<<n.getBCHDigit(b)-n.getBCHDigit(n.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return n.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case m.PATTERN000:return 0==(b+c)%2;case m.PATTERN001:return 0==b%2;case m.PATTERN010:return 0==c%3;case m.PATTERN011:return 0==(b+c)%3;case m.PATTERN100:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case m.PATTERN101:return 0==b*c%2+b*c%3;case m.PATTERN110:return 0==(b*c%2+b*c%3)%2;case m.PATTERN111:return 0==(b*c%3+(b+c)%2)%2;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var b=new c([1],0),d=0;a>d;d++)b=b.multiply(new c([1,o.gexp(d)],0));return b},getLengthInBits:function(a,b){if(b>=1&&10>b)switch(a){case k.MODE_NUMBER:return 10;case k.MODE_ALPHA_NUM:return 9;case k.MODE_8BIT_BYTE:return 8;case k.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(27>b)switch(a){case k.MODE_NUMBER:return 12;case k.MODE_ALPHA_NUM:return 11;case k.MODE_8BIT_BYTE:return 16;case k.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(41>b))throw new Error("type:"+b);switch(a){case k.MODE_NUMBER:return 14;case k.MODE_ALPHA_NUM:return 13;case k.MODE_8BIT_BYTE:return 16;case k.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||d+h>=b))for(var i=-1;1>=i;i++)0>e+i||e+i>=b||(0!=h||0!=i)&&g==a.isDark(d+h,e+i)&&f++;f>5&&(c+=3+f-5)}for(var d=0;b-1>d;d++)for(var e=0;b-1>e;e++){var j=0;a.isDark(d,e)&&j++,a.isDark(d+1,e)&&j++,a.isDark(d,e+1)&&j++,a.isDark(d+1,e+1)&&j++,(0==j||4==j)&&(c+=3)}for(var d=0;b>d;d++)for(var e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;b>e;e++)for(var d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(var k=0,e=0;b>e;e++)for(var d=0;b>d;d++)a.isDark(d,e)&&k++;var l=Math.abs(100*k/b/b-50)/5;return c+=10*l}},o={glog:function(a){if(1>a)throw new Error("glog("+a+")");return o.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return o.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},p=0;8>p;p++)o.EXP_TABLE[p]=1<<p;for(var p=8;256>p;p++)o.EXP_TABLE[p]=o.EXP_TABLE[p-4]^o.EXP_TABLE[p-5]^o.EXP_TABLE[p-6]^o.EXP_TABLE[p-8];for(var p=0;255>p;p++)o.LOG_TABLE[o.EXP_TABLE[p]]=p;c.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=new Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var e=0;e<a.getLength();e++)b[d+e]^=o.gexp(o.glog(this.get(d))+o.glog(a.get(e)));return new c(b,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var b=o.glog(this.get(0))-o.glog(a.get(0)),d=new Array(this.getLength()),e=0;e<this.getLength();e++)d[e]=this.get(e);for(var e=0;e<a.getLength();e++)d[e]^=o.gexp(o.glog(a.get(e))+b);return new c(d,0).mod(a)}},e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(a,b){var c=e.getRsBlockTable(a,b);if(void 0==c)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var d=c.length/3,f=[],g=0;d>g;g++)for(var h=c[3*g+0],i=c[3*g+1],j=c[3*g+2],k=0;h>k;k++)f.push(new e(i,j));return f},e.getRsBlockTable=function(a,b){switch(b){case l.L:return e.RS_BLOCK_TABLE[4*(a-1)+0];case l.M:return e.RS_BLOCK_TABLE[4*(a-1)+1];case l.Q:return e.RS_BLOCK_TABLE[4*(a-1)+2];case l.H:return e.RS_BLOCK_TABLE[4*(a-1)+3];default:return void 0}},f.prototype={get:function(a){var b=Math.floor(a/8);return 1==(1&this.buffer[b]>>>7-a%8)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(1&a>>>b-c-1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}};var q=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],r=function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){function b(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)b.hasOwnProperty(d)&&c.setAttribute(d,b[d]);return c}var c=this._htOption,d=this._el,e=a.getModuleCount();Math.floor(c.width/e),Math.floor(c.height/e),this.clear();var f=b("svg",{viewBox:"0 0 "+String(e)+" "+String(e),width:"100%",height:"100%",fill:c.colorLight});f.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),d.appendChild(f),f.appendChild(b("rect",{fill:c.colorDark,width:"1",height:"1",id:"template"}));for(var g=0;e>g;g++)for(var h=0;e>h;h++)if(a.isDark(g,h)){var i=b("use",{x:String(g),y:String(h)});i.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),f.appendChild(i)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}(),s="svg"===document.documentElement.tagName.toLowerCase(),t=s?r:g()?function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function b(a,b){var c=this;if(c._fFail=b,c._fSuccess=a,null===c._bSupportDataURI){var d=document.createElement("img"),e=function(){c._bSupportDataURI=!1,c._fFail&&_fFail.call(c)},f=function(){c._bSupportDataURI=!0,c._fSuccess&&c._fSuccess.call(c)};return d.onabort=e,d.onerror=e,d.onload=f,void(d.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}c._bSupportDataURI===!0&&c._fSuccess?c._fSuccess.call(c):c._bSupportDataURI===!1&&c._fFail&&c._fFail.call(c)}if(this._android&&this._android<=2.1){var c=1/window.devicePixelRatio,d=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,b,e,f,g,h,i,j){if("nodeName"in a&&/img/i.test(a.nodeName))for(var k=arguments.length-1;k>=1;k--)arguments[k]=arguments[k]*c;else"undefined"==typeof j&&(arguments[1]*=c,arguments[2]*=c,arguments[3]*=c,arguments[4]*=c);d.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1,this._android=h(),this._htOption=b,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=b.width,this._elCanvas.height=b.height,a.appendChild(this._elCanvas),this._el=a,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),f=d.width/e,g=d.height/e,h=Math.round(f),i=Math.round(g);b.style.display="none",this.clear();for(var j=0;e>j;j++)for(var k=0;e>k;k++){var l=a.isDark(j,k),m=k*f,n=j*g;c.strokeStyle=l?d.colorDark:d.colorLight,c.lineWidth=1,c.fillStyle=l?d.colorDark:d.colorLight,c.fillRect(m,n,f,g),c.strokeRect(Math.floor(m)+.5,Math.floor(n)+.5,h,i),c.strokeRect(Math.ceil(m)-.5,Math.ceil(n)-.5,h,i)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&b.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1e3*a)/1e3:a},e}():function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),e=Math.floor(b.width/d),f=Math.floor(b.height/d),g=['<table style="border:0;border-collapse:collapse;">'],h=0;d>h;h++){g.push("<tr>");for(var i=0;d>i;i++)g.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+e+"px;height:"+f+"px;background-color:"+(a.isDark(h,i)?b.colorDark:b.colorLight)+';"></td>');g.push("</tr>")}g.push("</table>"),c.innerHTML=g.join("");var j=c.childNodes[0],k=(b.width-j.offsetWidth)/2,l=(b.height-j.offsetHeight)/2;k>0&&l>0&&(j.style.margin=l+"px "+k+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}();d=function(a,b){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H},"string"==typeof b&&(b={text:b}),b)for(var c in b)this._htOption[c]=b[c];
"string"==typeof a&&(a=document.getElementById(a)),this._android=h(),this._el=a,this._oQRCode=null,this._oDrawing=new t(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},d.prototype.makeCode=function(a){this._oQRCode=new b(i(a,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(a),this._oQRCode.make(),this._el.title=a,this._oDrawing.draw(this._oQRCode),this.makeImage()},d.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},d.prototype.clear=function(){this._oDrawing.clear()},d.CorrectLevel=l}(),c.exports=d}),define("dist/detail/banner",["swiper","dist/application/method","dist/application/api","dist/application/urlConfig"],function(a){function b(){$.ajax({url:e.search.specialTopic,type:"POST",data:JSON.stringify({currentPage:1,pageSize:5,topicName:h,siteCode:"4"}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){if("0"==a.code&&a.data.rows&&a.data.rows.length){var b=a.data.rows;console.log("HotSpotList",b,"getDictionaryData",g);for(var c=0;c<b.length;c++){var d=g.filter(function(a){return a.pcode===b[c].templateCode});console.log("findArr",d[0]),d[0]?4===d[0].order?b[c].newRouterUrl=d[0].pvalue+"/"+b[c].id+".html":b[c].newRouterUrl=d[0].desc+d[0].pvalue+"/"+b[c].id+".html":b[c].newRouterUrl=""}var e=template.compile(f)({hotSpotSearchList:b||[]});$(".hot-spot-search-warper").html(e)}}})}function c(){$.ajax({url:e.user.dictionaryData.replace("$code","themeModel"),type:"GET",async:!1,contentType:"application/json; charset=utf-8",dataType:"json",cache:!1,success:function(a){a.data&&a.data.length&&(g=a.data)}})}a("swiper");var d=a("dist/application/method"),e=a("dist/application/api"),f=a("dist/detail/template/HotSpotSearch.html"),g=[];new Swiper(".swiper-top-container",{direction:"horizontal",loop:$(".swiper-top-container .swiper-slide").length>1?!0:!1,autoplay:3e3}),$(".close-swiper").on("click",function(a){a.stopPropagation(),$(".detail-topbanner").hide(),d.setCookieWithExpPath("isHideDetailTopbanner",1)}),new Swiper(".fix-right-swiperbannertop",{direction:"horizontal",loop:$(".fix-right-swiperbannertop .swiper-slide").length>1?!0:!1,autoplay:3e3}),new Swiper(".fix-right-swiperbannerbottom",{direction:"horizontal",loop:$(".fix-right-swiperbannerbottom .swiper-slide").length>1?!0:!1,autoplay:3e3}),new Swiper(".swiper-titlebottom-container",{direction:"horizontal",loop:$(".swiper-titlebottom-container .swiper-slide").length>1?!0:!1,autoplay:3e3}),new Swiper(".swiper-titlebottom-container",{direction:"horizontal",loop:$(".swiper-titlebottom-container .swiper-slide").length>1?!0:!1,autoplay:3e3}),new Swiper(".swiper-turnPageOneBanner-container",{direction:"horizontal",loop:$(".swiper-turnPageOneBanner-container .swiper-slide").length>1?!0:!1,autoplay:3e3}),new Swiper(".swiper-turnPageTwoBanner-container",{direction:"horizontal",loop:$(".swiper-turnPageTwoBanner-container .swiper-slide").length>1?!0:!1,autoplay:3e3});var h=window.pageConfig.page&&window.pageConfig.page.fileName;c(),b()}),define("dist/detail/template/HotSpotSearch.html",[],'<!--热点搜索-->\n<div class="hot-spot-search">\n    <h2 class="hot-spot-search-title">相关搜索<h2>\n            <ul class="hot-items">\n                {{each hotSpotSearchList}}\n                <li class="item">\n                    <a href="{{hotSpotSearchList[$index].newRouterUrl}}" target="_blank">{{hotSpotSearchList[$index].topicName}}</a>\n                </li>\n                {{/each}}\n            </ul>\n</div>\n');
//# sourceMappingURL=dist/js-source-map/ishare-web-pc.js.map